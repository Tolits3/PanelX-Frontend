{
  "version": 3,
  "sources": ["../../react-rotatable/dist/helper.js", "../../react-rotatable/dist/Rotatable.js", "../../react-rotatable/dist/index.js"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getTransformMatrix = getTransformMatrix;\nfunction getTransformMatrix(element) {\n  var matrix = window.getComputedStyle(element).transform;\n  var matrixArray = [0, 0, 0, 0, 0, 0];\n\n  if (matrix && matrix !== 'none') {\n    matrixArray = matrix.replace('matrix(', '').replace(')', '').replace(',', '').split(' ').map(function (value) {\n      return parseFloat(value);\n    });\n  }\n\n  return matrixArray;\n}", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _helper = require('./helper');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Rotatable = function (_Component) {\n  _inherits(Rotatable, _Component);\n\n  function Rotatable(props) {\n    _classCallCheck(this, Rotatable);\n\n    var _this = _possibleConstructorReturn(this, (Rotatable.__proto__ || Object.getPrototypeOf(Rotatable)).call(this, props));\n\n    _this.handleStartRotate = _this.handleStartRotate.bind(_this);\n    _this.handleRotate = _this.handleRotate.bind(_this);\n    _this.handleStopRotate = _this.handleStopRotate.bind(_this);\n\n    _this.state = { rotating: false, angle: 0 };\n    return _this;\n  }\n\n  _createClass(Rotatable, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.addHandle();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this.state.rotating) {\n        this.addHandle();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.handle) {\n        this.handle.removeEventListener('mousedown', this.handleStartRotate);\n      }\n      document.removeEventListener('mouseup', this.handleStopRotate);\n    }\n  }, {\n    key: 'addHandle',\n    value: function addHandle() {\n      this.rotatable.querySelectorAll('.rotate-handle-holder').forEach(function (e) {\n        return e.remove();\n      });\n      if (!this.props.canRotate) {\n        return;\n      }\n\n      this.handleContainer = document.createElement('div');\n      this.handleContainer.classList.add('rotate-handle-holder');\n\n      this.handle = document.createElement('div');\n      this.handle.classList.add('rotate-handle');\n      this.handleContainer.appendChild(this.handle);\n      this.rotatable.appendChild(this.handleContainer);\n\n      this.handle.addEventListener('mousedown', this.handleStartRotate);\n      document.addEventListener('mouseup', this.handleStopRotate);\n    }\n  }, {\n    key: 'handleStartRotate',\n    value: function handleStartRotate(e) {\n      var isRightButton = false;\n      if ('which' in e) {\n        isRightButton = e.which === 3;\n      } else if ('button' in e) {\n        isRightButton = e.button === 2;\n      }\n\n      if (isRightButton) {\n        return;\n      }\n\n      var onRotateStart = this.props.onRotateStart;\n\n\n      e.stopPropagation();\n      document.addEventListener('mousemove', this.handleRotate);\n\n      if (onRotateStart) {\n        onRotateStart(e, this.rotatable, this.state.angle);\n      }\n\n      this.setState({ rotating: true });\n    }\n  }, {\n    key: 'handleRotate',\n    value: function handleRotate(e) {\n      var _this2 = this;\n\n      e.stopPropagation();\n      e.preventDefault();\n      e.cancelBubble = true;\n      e.returnValue = false;\n      if (!this.state.rotating) {\n        return;\n      }\n\n      var onRotate = this.props.onRotate;\n\n      var bounds = this.rotatable.getBoundingClientRect();\n      var centerX = bounds.left + this.rotatable.clientWidth / 2;\n      var centerY = bounds.top + this.rotatable.clientHeight / 2;\n      var mouseX = e.pageX - (document.documentElement.scrollLeft || document.body.scrollLeft);\n      var mouseY = e.pageY - (document.documentElement.scrollTop || document.body.scrollTop);\n      var angleRad = Math.atan2(mouseX - centerX, -(mouseY - centerY));\n      var angleDeg = angleRad * (180 / Math.PI);\n\n      // For translate rule.\n      var matrixArray = (0, _helper.getTransformMatrix)(this.rotatable);\n      this.rotatable.style.transform = 'translate(' + matrixArray[4] + 'px, ' + matrixArray[5] + 'px) rotate(' + angleDeg + 'deg)';\n\n      var angleNormalized = angleDeg > 0 ? angleDeg : 360 + angleDeg;\n\n      this.setState({ angle: angleNormalized }, function () {\n        if (onRotate) {\n          onRotate(e, _this2.rotatable, angleNormalized);\n        }\n      });\n    }\n  }, {\n    key: 'handleStopRotate',\n    value: function handleStopRotate(e) {\n      var _this3 = this;\n\n      if (!this.state.rotating) {\n        return;\n      }\n\n      var onRotateStop = this.props.onRotateStop;\n\n\n      document.removeEventListener('mousemove', this.handleRotate);\n\n      this.setState({ rotating: false }, function () {\n        if (onRotateStop) {\n          onRotateStop(e, _this3.rotatable, _this3.state.angle + 'deg');\n        }\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var children = _react2.default.Children.toArray(this.props.children);\n\n      return _react2.default.cloneElement(children[0], {\n        ref: function ref(el) {\n          return _this4.rotatable = (0, _reactDom.findDOMNode)(el);\n        }\n      });\n    }\n  }]);\n\n  return Rotatable;\n}(_react.Component);\n\nRotatable.propTypes = {\n  children: _propTypes2.default.element.isRequired,\n  onRotateStart: _propTypes2.default.func,\n  onRotate: _propTypes2.default.func,\n  onRotateStop: _propTypes2.default.func,\n  canRotate: _propTypes2.default.bool\n};\n\nRotatable.defaultProps = {\n  canRotate: true\n};\n\nexports.default = Rotatable;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Rotatable = undefined;\n\nvar _Rotatable = require('./Rotatable');\n\nvar _Rotatable2 = _interopRequireDefault(_Rotatable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Rotatable = _Rotatable2.default;\nexports.default = _Rotatable2.default;"],
  "mappings": "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",
  "names": ["Rotatable"]
}
