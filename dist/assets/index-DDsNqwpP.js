function ap(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},Ti={},Bu={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),cp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),hp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),xp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Kl=Symbol.iterator;function vp(e){return e===null||typeof e!="object"?null:(e=Kl&&e[Kl]||e["@@iterator"],typeof e=="function"?e:null)}var $u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wu=Object.assign,Hu={};function rr(e,t,n){this.props=e,this.context=t,this.refs=Hu,this.updater=n||$u}rr.prototype.isReactComponent={};rr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vu(){}Vu.prototype=rr.prototype;function Ua(e,t,n){this.props=e,this.context=t,this.refs=Hu,this.updater=n||$u}var Fa=Ua.prototype=new Vu;Fa.constructor=Ua;Wu(Fa,rr.prototype);Fa.isPureReactComponent=!0;var Yl=Array.isArray,Gu=Object.prototype.hasOwnProperty,za={current:null},Ku={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Gu.call(t,r)&&!Ku.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:rs,type:e,key:i,ref:a,props:s,_owner:za.current}}function wp(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function bp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xl=/\/+/g;function Ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bp(""+e.key):t.toString(36)}function Ls(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case rs:case cp:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Ji(a,0):r,Yl(s)?(n="",e!=null&&(n=e.replace(Xl,"$&/")+"/"),Ls(s,t,n,"",function(u){return u})):s!=null&&(Ba(s)&&(s=wp(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Xl,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Yl(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Ji(i,l);a+=Ls(i,t,n,c,s)}else if(c=vp(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Ji(i,l++),a+=Ls(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gs(e,t,n){if(e==null)return e;var r=[],s=0;return Ls(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Np(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Ms={transition:null},Sp={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:za};function Xu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:gs,forEach:function(e,t,n){gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=rr;L.Fragment=up;L.Profiler=fp;L.PureComponent=Ua;L.StrictMode=dp;L.Suspense=gp;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;L.act=Xu;L.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wu({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=za.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gu.call(t,c)&&!Ku.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:rs,type:e.type,key:s,ref:i,props:r,_owner:a}};L.createContext=function(e){return e={$$typeof:pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hp,_context:e},e.Consumer=e};L.createElement=Yu;L.createFactory=function(e){var t=Yu.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:mp,render:e}};L.isValidElement=Ba;L.lazy=function(e){return{$$typeof:yp,_payload:{_status:-1,_result:e},_init:Np}};L.memo=function(e,t){return{$$typeof:xp,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=Ms.transition;Ms.transition={};try{e()}finally{Ms.transition=t}};L.unstable_act=Xu;L.useCallback=function(e,t){return be.current.useCallback(e,t)};L.useContext=function(e){return be.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return be.current.useDeferredValue(e)};L.useEffect=function(e,t){return be.current.useEffect(e,t)};L.useId=function(){return be.current.useId()};L.useImperativeHandle=function(e,t,n){return be.current.useImperativeHandle(e,t,n)};L.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return be.current.useMemo(e,t)};L.useReducer=function(e,t,n){return be.current.useReducer(e,t,n)};L.useRef=function(e){return be.current.useRef(e)};L.useState=function(e){return be.current.useState(e)};L.useSyncExternalStore=function(e,t,n){return be.current.useSyncExternalStore(e,t,n)};L.useTransition=function(){return be.current.useTransition()};L.version="18.3.1";Bu.exports=L;var y=Bu.exports;const Qu=lp(y),_p=ap({__proto__:null,default:Qu},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=y,Ep=Symbol.for("react.element"),kp=Symbol.for("react.fragment"),Cp=Object.prototype.hasOwnProperty,Ip=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tp={key:!0,ref:!0,__self:!0,__source:!0};function Ju(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Cp.call(t,r)&&!Tp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ep,type:e,key:i,ref:a,props:s,_owner:Ip.current}}Ti.Fragment=kp;Ti.jsx=Ju;Ti.jsxs=Ju;zu.exports=Ti;var o=zu.exports,Ro={},qu={exports:{}},Re={},Zu={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var O=T.length;T.push(R);e:for(;0<O;){var F=O-1>>>1,Q=T[F];if(0<s(Q,R))T[F]=R,T[O]=Q,O=F;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var R=T[0],O=T.pop();if(O!==R){T[0]=O;e:for(var F=0,Q=T.length,rn=Q>>>1;F<rn;){var sn=2*(F+1)-1,Qi=T[sn],on=sn+1,ms=T[on];if(0>s(Qi,O))on<Q&&0>s(ms,Qi)?(T[F]=ms,T[on]=O,F=on):(T[F]=Qi,T[sn]=O,F=sn);else if(on<Q&&0>s(ms,O))T[F]=ms,T[on]=O,F=on;else break e}}return R}function s(T,R){var O=T.sortIndex-R.sortIndex;return O!==0?O:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],m=1,p=null,g=3,b=!1,w=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=T)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function x(T){if(v=!1,f(T),!w)if(n(c)!==null)w=!0,H(S);else{var R=n(u);R!==null&&St(x,R.startTime-T)}}function S(T,R){w=!1,v&&(v=!1,h(C),C=-1),b=!0;var O=g;try{for(f(R),p=n(c);p!==null&&(!(p.expirationTime>R)||T&&!D());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var Q=F(p.expirationTime<=R);R=e.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(c)&&r(c),f(R)}else r(c);p=n(c)}if(p!==null)var rn=!0;else{var sn=n(u);sn!==null&&St(x,sn.startTime-R),rn=!1}return rn}finally{p=null,g=O,b=!1}}var E=!1,_=null,C=-1,j=5,I=-1;function D(){return!(e.unstable_now()-I<j)}function Y(){if(_!==null){var T=e.unstable_now();I=T;var R=!0;try{R=_(!0,T)}finally{R?X():(E=!1,_=null)}}else E=!1}var X;if(typeof d=="function")X=function(){d(Y)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=Y,X=function(){U.postMessage(null)}}else X=function(){N(Y,0)};function H(T){_=T,E||(E=!0,X())}function St(T,R){C=N(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||b||(w=!0,H(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var O=g;g=R;try{return T()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=g;g=T;try{return R()}finally{g=O}},e.unstable_scheduleCallback=function(T,R,O){var F=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,T){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=O+Q,T={id:m++,callback:R,priorityLevel:T,startTime:O,expirationTime:Q,sortIndex:-1},O>F?(T.sortIndex=O,t(u,T),n(c)===null&&T===n(u)&&(v?(h(C),C=-1):v=!0,St(x,O-F))):(T.sortIndex=Q,t(c,T),w||b||(w=!0,H(S))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var R=g;return function(){var O=g;g=R;try{return T.apply(this,arguments)}finally{g=O}}}})(ed);Zu.exports=ed;var Pp=Zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=y,Pe=Pp;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var td=new Set,Or={};function Nn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(Or[e]=t,e=0;e<t.length;e++)td.add(t[e])}var pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ao=Object.prototype.hasOwnProperty,Ap=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ql={},Jl={};function Op(e){return Ao.call(Jl,e)?!0:Ao.call(Ql,e)?!1:Ap.test(e)?Jl[e]=!0:(Ql[e]=!0,!1)}function Dp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lp(e,t,n,r){if(t===null||typeof t>"u"||Dp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fe[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fe[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fe[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fe[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fe[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fe[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fe[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fe[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fe[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var $a=/[\-:]([a-z])/g;function Wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($a,Wa);fe[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($a,Wa);fe[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($a,Wa);fe[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fe[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fe[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ha(e,t,n,r){var s=fe.hasOwnProperty(t)?fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lp(t,n,s,r)&&(n=null),r||s===null?Op(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wt=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xs=Symbol.for("react.element"),En=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Va=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),nd=Symbol.for("react.provider"),rd=Symbol.for("react.context"),Ga=Symbol.for("react.forward_ref"),Do=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Ka=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),sd=Symbol.for("react.offscreen"),ql=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=ql&&e[ql]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,qi;function yr(e){if(qi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qi=t&&t[1]||""}return`
`+qi+e}var Zi=!1;function eo(e,t){if(!e||Zi)return"";Zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Zi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yr(e):""}function Mp(e){switch(e.tag){case 5:return yr(e.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return e=eo(e.type,!1),e;case 11:return e=eo(e.type.render,!1),e;case 1:return e=eo(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case En:return"Portal";case Oo:return"Profiler";case Va:return"StrictMode";case Do:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rd:return(e.displayName||"Context")+".Consumer";case nd:return(e._context.displayName||"Context")+".Provider";case Ga:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ka:return t=e.displayName||null,t!==null?t:Mo(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function Up(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(t);case 8:return t===Va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fp(e){var t=id(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=Fp(e))}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=id(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uo(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ad(e,t){t=t.checked,t!=null&&Ha(e,"checked",t,!1)}function Fo(e,t){ad(e,t);var n=Yt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zo(e,t.type,n):t.hasOwnProperty("defaultValue")&&zo(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ec(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zo(e,t,n){(t!=="number"||qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vr=Array.isArray;function Fn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(vr(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yt(n)}}function ld(e,t){var n=Yt(t.value),r=Yt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $o(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,ud=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zp=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){zp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function dd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function fd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=dd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Bp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(e,t){if(t){if(Bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function Ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Go=null,zn=null,Bn=null;function rc(e){if(e=os(e)){if(typeof Go!="function")throw Error(k(280));var t=e.stateNode;t&&(t=Di(t),Go(e.stateNode,e.type,t))}}function hd(e){zn?Bn?Bn.push(e):Bn=[e]:zn=e}function pd(){if(zn){var e=zn,t=Bn;if(Bn=zn=null,rc(e),t)for(e=0;e<t.length;e++)rc(t[e])}}function md(e,t){return e(t)}function gd(){}var to=!1;function xd(e,t,n){if(to)return e(t,n);to=!0;try{return md(e,t,n)}finally{to=!1,(zn!==null||Bn!==null)&&(gd(),pd())}}function Lr(e,t){var n=e.stateNode;if(n===null)return null;var r=Di(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Ko=!1;if(pt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Ko=!1}function $p(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var jr=!1,Zs=null,ei=!1,Yo=null,Wp={onError:function(e){jr=!0,Zs=e}};function Hp(e,t,n,r,s,i,a,l,c){jr=!1,Zs=null,$p.apply(Wp,arguments)}function Vp(e,t,n,r,s,i,a,l,c){if(Hp.apply(this,arguments),jr){if(jr){var u=Zs;jr=!1,Zs=null}else throw Error(k(198));ei||(ei=!0,Yo=u)}}function Sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sc(e){if(Sn(e)!==e)throw Error(k(188))}function Gp(e){var t=e.alternate;if(!t){if(t=Sn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return sc(s),e;if(i===r)return sc(s),t;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function vd(e){return e=Gp(e),e!==null?wd(e):null}function wd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wd(e);if(t!==null)return t;e=e.sibling}return null}var bd=Pe.unstable_scheduleCallback,ic=Pe.unstable_cancelCallback,Kp=Pe.unstable_shouldYield,Yp=Pe.unstable_requestPaint,ne=Pe.unstable_now,Xp=Pe.unstable_getCurrentPriorityLevel,Xa=Pe.unstable_ImmediatePriority,Nd=Pe.unstable_UserBlockingPriority,ti=Pe.unstable_NormalPriority,Qp=Pe.unstable_LowPriority,Sd=Pe.unstable_IdlePriority,Pi=null,tt=null;function Jp(e){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:em,qp=Math.log,Zp=Math.LN2;function em(e){return e>>>=0,e===0?32:31-(qp(e)/Zp|0)|0}var ws=64,bs=4194304;function wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=wr(l):(i&=a,i!==0&&(r=wr(i)))}else a=n&~s,a!==0?r=wr(a):i!==0&&(r=wr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ge(t),s=1<<n,r|=e[n],t&=~s;return r}function tm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ge(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=tm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _d(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function no(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=n}function rm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ge(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Qa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ge(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var z=0;function jd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ed,Ja,kd,Cd,Id,Qo=!1,Ns=[],Mt=null,Ut=null,Ft=null,Mr=new Map,Ur=new Map,Ct=[],sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function fr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=os(t),t!==null&&Ja(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function im(e,t,n,r,s){switch(t){case"focusin":return Mt=fr(Mt,e,t,n,r,s),!0;case"dragenter":return Ut=fr(Ut,e,t,n,r,s),!0;case"mouseover":return Ft=fr(Ft,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mr.set(i,fr(Mr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,fr(Ur.get(i)||null,e,t,n,r,s)),!0}return!1}function Td(e){var t=un(e.target);if(t!==null){var n=Sn(t);if(n!==null){if(t=n.tag,t===13){if(t=yd(n),t!==null){e.blockedOn=t,Id(e.priority,function(){kd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vo=r,n.target.dispatchEvent(r),Vo=null}else return t=os(n),t!==null&&Ja(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){Us(e)&&n.delete(t)}function om(){Qo=!1,Mt!==null&&Us(Mt)&&(Mt=null),Ut!==null&&Us(Ut)&&(Ut=null),Ft!==null&&Us(Ft)&&(Ft=null),Mr.forEach(ac),Ur.forEach(ac)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,Qo||(Qo=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,om)))}function Fr(e){function t(s){return hr(s,e)}if(0<Ns.length){hr(Ns[0],e);for(var n=1;n<Ns.length;n++){var r=Ns[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&hr(Mt,e),Ut!==null&&hr(Ut,e),Ft!==null&&hr(Ft,e),Mr.forEach(t),Ur.forEach(t),n=0;n<Ct.length;n++)r=Ct[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)Td(n),n.blockedOn===null&&Ct.shift()}var $n=wt.ReactCurrentBatchConfig,ri=!0;function am(e,t,n,r){var s=z,i=$n.transition;$n.transition=null;try{z=1,qa(e,t,n,r)}finally{z=s,$n.transition=i}}function lm(e,t,n,r){var s=z,i=$n.transition;$n.transition=null;try{z=4,qa(e,t,n,r)}finally{z=s,$n.transition=i}}function qa(e,t,n,r){if(ri){var s=Jo(e,t,n,r);if(s===null)ho(e,t,r,si,n),oc(e,r);else if(im(s,e,t,n,r))r.stopPropagation();else if(oc(e,r),t&4&&-1<sm.indexOf(e)){for(;s!==null;){var i=os(s);if(i!==null&&Ed(i),i=Jo(e,t,n,r),i===null&&ho(e,t,r,si,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ho(e,t,r,null,n)}}var si=null;function Jo(e,t,n,r){if(si=null,e=Ya(r),e=un(e),e!==null)if(t=Sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function Pd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case Xa:return 1;case Nd:return 4;case ti:case Qp:return 16;case Sd:return 536870912;default:return 16}default:return 16}}var Ot=null,Za=null,Fs=null;function Rd(){if(Fs)return Fs;var e,t=Za,n=t.length,r,s="value"in Ot?Ot.value:Ot.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Fs=s.slice(e,1<r?1-r:void 0)}function zs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function lc(){return!1}function Ae(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:lc,this.isPropagationStopped=lc,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=Ae(sr),is=ee({},sr,{view:0,detail:0}),cm=Ae(is),ro,so,pr,Ri=ee({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(ro=e.screenX-pr.screenX,so=e.screenY-pr.screenY):so=ro=0,pr=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:so}}),cc=Ae(Ri),um=ee({},Ri,{dataTransfer:0}),dm=Ae(um),fm=ee({},is,{relatedTarget:0}),io=Ae(fm),hm=ee({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),pm=Ae(hm),mm=ee({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gm=Ae(mm),xm=ee({},sr,{data:0}),uc=Ae(xm),ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wm[e])?!!t[e]:!1}function tl(){return bm}var Nm=ee({},is,{key:function(e){if(e.key){var t=ym[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(e){return e.type==="keypress"?zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sm=Ae(Nm),_m=ee({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Ae(_m),jm=ee({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),Em=Ae(jm),km=ee({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=Ae(km),Im=ee({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tm=Ae(Im),Pm=[9,13,27,32],nl=pt&&"CompositionEvent"in window,Er=null;pt&&"documentMode"in document&&(Er=document.documentMode);var Rm=pt&&"TextEvent"in window&&!Er,Ad=pt&&(!nl||Er&&8<Er&&11>=Er),fc=" ",hc=!1;function Od(e,t){switch(e){case"keyup":return Pm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Am(e,t){switch(e){case"compositionend":return Dd(t);case"keypress":return t.which!==32?null:(hc=!0,fc);case"textInput":return e=t.data,e===fc&&hc?null:e;default:return null}}function Om(e,t){if(Cn)return e==="compositionend"||!nl&&Od(e,t)?(e=Rd(),Fs=Za=Ot=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ad&&t.locale!=="ko"?null:t.data;default:return null}}var Dm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dm[e.type]:t==="textarea"}function Ld(e,t,n,r){hd(r),t=ii(t,"onChange"),0<t.length&&(n=new el("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kr=null,zr=null;function Lm(e){Kd(e,0)}function Ai(e){var t=Pn(e);if(od(t))return e}function Mm(e,t){if(e==="change")return t}var Md=!1;if(pt){var oo;if(pt){var ao="oninput"in document;if(!ao){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),ao=typeof mc.oninput=="function"}oo=ao}else oo=!1;Md=oo&&(!document.documentMode||9<document.documentMode)}function gc(){kr&&(kr.detachEvent("onpropertychange",Ud),zr=kr=null)}function Ud(e){if(e.propertyName==="value"&&Ai(zr)){var t=[];Ld(t,zr,e,Ya(e)),xd(Lm,t)}}function Um(e,t,n){e==="focusin"?(gc(),kr=t,zr=n,kr.attachEvent("onpropertychange",Ud)):e==="focusout"&&gc()}function Fm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai(zr)}function zm(e,t){if(e==="click")return Ai(t)}function Bm(e,t){if(e==="input"||e==="change")return Ai(t)}function $m(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:$m;function Br(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ao.call(t,s)||!Ye(e[s],t[s]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yc(e,t){var n=xc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xc(n)}}function Fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qs(e.document)}return t}function rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wm(e){var t=zd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fd(n.ownerDocument.documentElement,n)){if(r!==null&&rl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=yc(n,i);var a=yc(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hm=pt&&"documentMode"in document&&11>=document.documentMode,In=null,qo=null,Cr=null,Zo=!1;function vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zo||In==null||In!==qs(r)||(r=In,"selectionStart"in r&&rl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cr&&Br(Cr,r)||(Cr=r,r=ii(qo,"onSelect"),0<r.length&&(t=new el("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=In)))}function _s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tn={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},lo={},Bd={};pt&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function Oi(e){if(lo[e])return lo[e];if(!Tn[e])return e;var t=Tn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Bd)return lo[e]=t[n];return e}var $d=Oi("animationend"),Wd=Oi("animationiteration"),Hd=Oi("animationstart"),Vd=Oi("transitionend"),Gd=new Map,wc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Gd.set(e,t),Nn(t,[e])}for(var co=0;co<wc.length;co++){var uo=wc[co],Vm=uo.toLowerCase(),Gm=uo[0].toUpperCase()+uo.slice(1);Qt(Vm,"on"+Gm)}Qt($d,"onAnimationEnd");Qt(Wd,"onAnimationIteration");Qt(Hd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Vd,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Km=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function bc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vp(r,t,void 0,e),e.currentTarget=null}function Kd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;bc(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;bc(s,l,u),i=c}}}if(ei)throw e=Yo,ei=!1,Yo=null,e}function V(e,t){var n=t[sa];n===void 0&&(n=t[sa]=new Set);var r=e+"__bubble";n.has(r)||(Yd(t,e,2,!1),n.add(r))}function fo(e,t,n){var r=0;t&&(r|=4),Yd(n,e,r,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[js]){e[js]=!0,td.forEach(function(n){n!=="selectionchange"&&(Km.has(n)||fo(n,!1,e),fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,fo("selectionchange",!1,t))}}function Yd(e,t,n,r){switch(Pd(t)){case 1:var s=am;break;case 4:s=lm;break;default:s=qa}n=s.bind(null,t,n,e),s=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ho(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=un(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}xd(function(){var u=i,m=Ya(n),p=[];e:{var g=Gd.get(e);if(g!==void 0){var b=el,w=e;switch(e){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":b=Sm;break;case"focusin":w="focus",b=io;break;case"focusout":w="blur",b=io;break;case"beforeblur":case"afterblur":b=io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Em;break;case $d:case Wd:case Hd:b=pm;break;case Vd:b=Cm;break;case"scroll":b=cm;break;case"wheel":b=Tm;break;case"copy":case"cut":case"paste":b=gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=dc}var v=(t&4)!==0,N=!v&&e==="scroll",h=v?g!==null?g+"Capture":null:g;v=[];for(var d=u,f;d!==null;){f=d;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,h!==null&&(x=Lr(d,h),x!=null&&v.push(Wr(d,x,f)))),N)break;d=d.return}0<v.length&&(g=new b(g,w,null,n,m),p.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&n!==Vo&&(w=n.relatedTarget||n.fromElement)&&(un(w)||w[mt]))break e;if((b||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,b?(w=n.relatedTarget||n.toElement,b=u,w=w?un(w):null,w!==null&&(N=Sn(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(b=null,w=u),b!==w)){if(v=cc,x="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=dc,x="onPointerLeave",h="onPointerEnter",d="pointer"),N=b==null?g:Pn(b),f=w==null?g:Pn(w),g=new v(x,d+"leave",b,n,m),g.target=N,g.relatedTarget=f,x=null,un(m)===u&&(v=new v(h,d+"enter",w,n,m),v.target=f,v.relatedTarget=N,x=v),N=x,b&&w)t:{for(v=b,h=w,d=0,f=v;f;f=jn(f))d++;for(f=0,x=h;x;x=jn(x))f++;for(;0<d-f;)v=jn(v),d--;for(;0<f-d;)h=jn(h),f--;for(;d--;){if(v===h||h!==null&&v===h.alternate)break t;v=jn(v),h=jn(h)}v=null}else v=null;b!==null&&Nc(p,g,b,v,!1),w!==null&&N!==null&&Nc(p,N,w,v,!0)}}e:{if(g=u?Pn(u):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var S=Mm;else if(pc(g))if(Md)S=Bm;else{S=Fm;var E=Um}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=zm);if(S&&(S=S(e,u))){Ld(p,S,n,m);break e}E&&E(e,g,u),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&zo(g,"number",g.value)}switch(E=u?Pn(u):window,e){case"focusin":(pc(E)||E.contentEditable==="true")&&(In=E,qo=u,Cr=null);break;case"focusout":Cr=qo=In=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":Zo=!1,vc(p,n,m);break;case"selectionchange":if(Hm)break;case"keydown":case"keyup":vc(p,n,m)}var _;if(nl)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Cn?Od(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Ad&&n.locale!=="ko"&&(Cn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Cn&&(_=Rd()):(Ot=m,Za="value"in Ot?Ot.value:Ot.textContent,Cn=!0)),E=ii(u,C),0<E.length&&(C=new uc(C,e,null,n,m),p.push({event:C,listeners:E}),_?C.data=_:(_=Dd(n),_!==null&&(C.data=_)))),(_=Rm?Am(e,n):Om(e,n))&&(u=ii(u,"onBeforeInput"),0<u.length&&(m=new uc("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:u}),m.data=_))}Kd(p,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lr(e,n),i!=null&&r.unshift(Wr(e,i,s)),i=Lr(e,t),i!=null&&r.push(Wr(e,i,s))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Lr(n,i),c!=null&&a.unshift(Wr(n,c,l))):s||(c=Lr(n,i),c!=null&&a.push(Wr(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Ym=/\r\n?/g,Xm=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(Ym,`
`).replace(Xm,"")}function Es(e,t,n){if(t=Sc(t),Sc(e)!==t&&n)throw Error(k(425))}function oi(){}var ea=null,ta=null;function na(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ra=typeof setTimeout=="function"?setTimeout:void 0,Qm=typeof clearTimeout=="function"?clearTimeout:void 0,_c=typeof Promise=="function"?Promise:void 0,Jm=typeof queueMicrotask=="function"?queueMicrotask:typeof _c<"u"?function(e){return _c.resolve(null).then(e).catch(qm)}:ra;function qm(e){setTimeout(function(){throw e})}function po(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Fr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fr(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ir=Math.random().toString(36).slice(2),Ze="__reactFiber$"+ir,Hr="__reactProps$"+ir,mt="__reactContainer$"+ir,sa="__reactEvents$"+ir,Zm="__reactListeners$"+ir,eg="__reactHandles$"+ir;function un(e){var t=e[Ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mt]||n[Ze]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jc(e);e!==null;){if(n=e[Ze])return n;e=jc(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[Ze]||e[mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function Di(e){return e[Hr]||null}var ia=[],Rn=-1;function Jt(e){return{current:e}}function G(e){0>Rn||(e.current=ia[Rn],ia[Rn]=null,Rn--)}function W(e,t){Rn++,ia[Rn]=e.current,e.current=t}var Xt={},xe=Jt(Xt),je=Jt(!1),mn=Xt;function Qn(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ee(e){return e=e.childContextTypes,e!=null}function ai(){G(je),G(xe)}function Ec(e,t,n){if(xe.current!==Xt)throw Error(k(168));W(xe,t),W(je,n)}function Xd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(k(108,Up(e)||"Unknown",s));return ee({},n,r)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,mn=xe.current,W(xe,e),W(je,je.current),!0}function kc(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=Xd(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,G(je),G(xe),W(xe,e)):G(je),W(je,n)}var ot=null,Li=!1,mo=!1;function Qd(e){ot===null?ot=[e]:ot.push(e)}function tg(e){Li=!0,Qd(e)}function qt(){if(!mo&&ot!==null){mo=!0;var e=0,t=z;try{var n=ot;for(z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ot=null,Li=!1}catch(s){throw ot!==null&&(ot=ot.slice(e+1)),bd(Xa,qt),s}finally{z=t,mo=!1}}return null}var An=[],On=0,ci=null,ui=0,Oe=[],De=0,gn=null,at=1,lt="";function an(e,t){An[On++]=ui,An[On++]=ci,ci=e,ui=t}function Jd(e,t,n){Oe[De++]=at,Oe[De++]=lt,Oe[De++]=gn,gn=e;var r=at;e=lt;var s=32-Ge(r)-1;r&=~(1<<s),n+=1;var i=32-Ge(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,at=1<<32-Ge(t)+s|n<<s|r,lt=i+e}else at=1<<i|n<<s|r,lt=e}function sl(e){e.return!==null&&(an(e,1),Jd(e,1,0))}function il(e){for(;e===ci;)ci=An[--On],An[On]=null,ui=An[--On],An[On]=null;for(;e===gn;)gn=Oe[--De],Oe[De]=null,lt=Oe[--De],Oe[De]=null,at=Oe[--De],Oe[De]=null}var Te=null,Ie=null,K=!1,Ve=null;function qd(e,t){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Te=e,Ie=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Te=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:at,overflow:lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Te=e,Ie=null,!0):!1;default:return!1}}function oa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function aa(e){if(K){var t=Ie;if(t){var n=t;if(!Cc(e,t)){if(oa(e))throw Error(k(418));t=zt(n.nextSibling);var r=Te;t&&Cc(e,t)?qd(r,n):(e.flags=e.flags&-4097|2,K=!1,Te=e)}}else{if(oa(e))throw Error(k(418));e.flags=e.flags&-4097|2,K=!1,Te=e}}}function Ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Te=e}function ks(e){if(e!==Te)return!1;if(!K)return Ic(e),K=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!na(e.type,e.memoizedProps)),t&&(t=Ie)){if(oa(e))throw Zd(),Error(k(418));for(;t;)qd(e,t),t=zt(t.nextSibling)}if(Ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Te?zt(e.stateNode.nextSibling):null;return!0}function Zd(){for(var e=Ie;e;)e=zt(e.nextSibling)}function Jn(){Ie=Te=null,K=!1}function ol(e){Ve===null?Ve=[e]:Ve.push(e)}var ng=wt.ReactCurrentBatchConfig;function mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function ef(e){function t(h,d){if(e){var f=h.deletions;f===null?(h.deletions=[d],h.flags|=16):f.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=Ht(h,d),h.index=0,h.sibling=null,h}function i(h,d,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<d?(h.flags|=2,d):f):(h.flags|=2,d)):(h.flags|=1048576,d)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,d,f,x){return d===null||d.tag!==6?(d=No(f,h.mode,x),d.return=h,d):(d=s(d,f),d.return=h,d)}function c(h,d,f,x){var S=f.type;return S===kn?m(h,d,f.props.children,x,f.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Et&&Tc(S)===d.type)?(x=s(d,f.props),x.ref=mr(h,d,f),x.return=h,x):(x=Ks(f.type,f.key,f.props,null,h.mode,x),x.ref=mr(h,d,f),x.return=h,x)}function u(h,d,f,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=So(f,h.mode,x),d.return=h,d):(d=s(d,f.children||[]),d.return=h,d)}function m(h,d,f,x,S){return d===null||d.tag!==7?(d=pn(f,h.mode,x,S),d.return=h,d):(d=s(d,f),d.return=h,d)}function p(h,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=No(""+d,h.mode,f),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case xs:return f=Ks(d.type,d.key,d.props,null,h.mode,f),f.ref=mr(h,null,d),f.return=h,f;case En:return d=So(d,h.mode,f),d.return=h,d;case Et:var x=d._init;return p(h,x(d._payload),f)}if(vr(d)||ur(d))return d=pn(d,h.mode,f,null),d.return=h,d;Cs(h,d)}return null}function g(h,d,f,x){var S=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return S!==null?null:l(h,d,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xs:return f.key===S?c(h,d,f,x):null;case En:return f.key===S?u(h,d,f,x):null;case Et:return S=f._init,g(h,d,S(f._payload),x)}if(vr(f)||ur(f))return S!==null?null:m(h,d,f,x,null);Cs(h,f)}return null}function b(h,d,f,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return h=h.get(f)||null,l(d,h,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xs:return h=h.get(x.key===null?f:x.key)||null,c(d,h,x,S);case En:return h=h.get(x.key===null?f:x.key)||null,u(d,h,x,S);case Et:var E=x._init;return b(h,d,f,E(x._payload),S)}if(vr(x)||ur(x))return h=h.get(f)||null,m(d,h,x,S,null);Cs(d,x)}return null}function w(h,d,f,x){for(var S=null,E=null,_=d,C=d=0,j=null;_!==null&&C<f.length;C++){_.index>C?(j=_,_=null):j=_.sibling;var I=g(h,_,f[C],x);if(I===null){_===null&&(_=j);break}e&&_&&I.alternate===null&&t(h,_),d=i(I,d,C),E===null?S=I:E.sibling=I,E=I,_=j}if(C===f.length)return n(h,_),K&&an(h,C),S;if(_===null){for(;C<f.length;C++)_=p(h,f[C],x),_!==null&&(d=i(_,d,C),E===null?S=_:E.sibling=_,E=_);return K&&an(h,C),S}for(_=r(h,_);C<f.length;C++)j=b(_,h,C,f[C],x),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?C:j.key),d=i(j,d,C),E===null?S=j:E.sibling=j,E=j);return e&&_.forEach(function(D){return t(h,D)}),K&&an(h,C),S}function v(h,d,f,x){var S=ur(f);if(typeof S!="function")throw Error(k(150));if(f=S.call(f),f==null)throw Error(k(151));for(var E=S=null,_=d,C=d=0,j=null,I=f.next();_!==null&&!I.done;C++,I=f.next()){_.index>C?(j=_,_=null):j=_.sibling;var D=g(h,_,I.value,x);if(D===null){_===null&&(_=j);break}e&&_&&D.alternate===null&&t(h,_),d=i(D,d,C),E===null?S=D:E.sibling=D,E=D,_=j}if(I.done)return n(h,_),K&&an(h,C),S;if(_===null){for(;!I.done;C++,I=f.next())I=p(h,I.value,x),I!==null&&(d=i(I,d,C),E===null?S=I:E.sibling=I,E=I);return K&&an(h,C),S}for(_=r(h,_);!I.done;C++,I=f.next())I=b(_,h,C,I.value,x),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?C:I.key),d=i(I,d,C),E===null?S=I:E.sibling=I,E=I);return e&&_.forEach(function(Y){return t(h,Y)}),K&&an(h,C),S}function N(h,d,f,x){if(typeof f=="object"&&f!==null&&f.type===kn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case xs:e:{for(var S=f.key,E=d;E!==null;){if(E.key===S){if(S=f.type,S===kn){if(E.tag===7){n(h,E.sibling),d=s(E,f.props.children),d.return=h,h=d;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Et&&Tc(S)===E.type){n(h,E.sibling),d=s(E,f.props),d.ref=mr(h,E,f),d.return=h,h=d;break e}n(h,E);break}else t(h,E);E=E.sibling}f.type===kn?(d=pn(f.props.children,h.mode,x,f.key),d.return=h,h=d):(x=Ks(f.type,f.key,f.props,null,h.mode,x),x.ref=mr(h,d,f),x.return=h,h=x)}return a(h);case En:e:{for(E=f.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(h,d.sibling),d=s(d,f.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=So(f,h.mode,x),d.return=h,h=d}return a(h);case Et:return E=f._init,N(h,d,E(f._payload),x)}if(vr(f))return w(h,d,f,x);if(ur(f))return v(h,d,f,x);Cs(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,f),d.return=h,h=d):(n(h,d),d=No(f,h.mode,x),d.return=h,h=d),a(h)):n(h,d)}return N}var qn=ef(!0),tf=ef(!1),di=Jt(null),fi=null,Dn=null,al=null;function ll(){al=Dn=fi=null}function cl(e){var t=di.current;G(di),e._currentValue=t}function la(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wn(e,t){fi=e,al=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_e=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(al!==e)if(e={context:e,memoizedValue:t,next:null},Dn===null){if(fi===null)throw Error(k(308));Dn=e,fi.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return t}var dn=null;function ul(e){dn===null?dn=[e]:dn.push(e)}function nf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,ul(t)):(n.next=s.next,s.next=n),t.interleaved=n,gt(e,r)}function gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gt(e,n)}return s=r.interleaved,s===null?(t.next=t,ul(r)):(t.next=s.next,s.next=t),r.interleaved=t,gt(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qa(e,n)}}function Pc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hi(e,t,n,r){var s=e.updateQueue;kt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;a=0,m=u=c=null,l=i;do{var g=l.lane,b=l.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:b,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(g=t,b=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){p=w.call(b,p,g);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,g=typeof w=="function"?w.call(b,p,g):w,g==null)break e;p=ee({},p,g);break e;case 2:kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else b={eventTime:b,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=b,c=p):m=m.next=b,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yn|=a,e.lanes=a,e.memoizedState=p}}function Rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var as={},nt=Jt(as),Vr=Jt(as),Gr=Jt(as);function fn(e){if(e===as)throw Error(k(174));return e}function fl(e,t){switch(W(Gr,t),W(Vr,e),W(nt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$o(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$o(t,e)}G(nt),W(nt,t)}function Zn(){G(nt),G(Vr),G(Gr)}function sf(e){fn(Gr.current);var t=fn(nt.current),n=$o(t,e.type);t!==n&&(W(Vr,e),W(nt,n))}function hl(e){Vr.current===e&&(G(nt),G(Vr))}var J=Jt(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var go=[];function pl(){for(var e=0;e<go.length;e++)go[e]._workInProgressVersionPrimary=null;go.length=0}var $s=wt.ReactCurrentDispatcher,xo=wt.ReactCurrentBatchConfig,xn=0,Z=null,ie=null,le=null,mi=!1,Ir=!1,Kr=0,rg=0;function pe(){throw Error(k(321))}function ml(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ye(e[n],t[n]))return!1;return!0}function gl(e,t,n,r,s,i){if(xn=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?ag:lg,e=n(r,s),Ir){i=0;do{if(Ir=!1,Kr=0,25<=i)throw Error(k(301));i+=1,le=ie=null,t.updateQueue=null,$s.current=cg,e=n(r,s)}while(Ir)}if($s.current=gi,t=ie!==null&&ie.next!==null,xn=0,le=ie=Z=null,mi=!1,t)throw Error(k(300));return e}function xl(){var e=Kr!==0;return Kr=0,e}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Z.memoizedState=le=e:le=le.next=e,le}function ze(){if(ie===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=le===null?Z.memoizedState:le.next;if(t!==null)le=t,ie=e;else{if(e===null)throw Error(k(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},le===null?Z.memoizedState=le=e:le=le.next=e}return le}function Yr(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=ze(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=ie,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var m=u.lane;if((xn&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,a=r):c=c.next=p,Z.lanes|=m,yn|=m}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,Ye(r,t.memoizedState)||(_e=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,yn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vo(e){var t=ze(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ye(i,t.memoizedState)||(_e=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function of(){}function af(e,t){var n=Z,r=ze(),s=t(),i=!Ye(r.memoizedState,s);if(i&&(r.memoizedState=s,_e=!0),r=r.queue,yl(uf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Xr(9,cf.bind(null,n,r,s,t),void 0,null),ce===null)throw Error(k(349));xn&30||lf(n,t,s)}return s}function lf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cf(e,t,n,r){t.value=n,t.getSnapshot=r,df(t)&&ff(e)}function uf(e,t,n){return n(function(){df(t)&&ff(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ye(e,n)}catch{return!0}}function ff(e){var t=gt(e,1);t!==null&&Ke(t,e,1,-1)}function Ac(e){var t=qe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=og.bind(null,Z,e),[t.memoizedState,e]}function Xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hf(){return ze().memoizedState}function Ws(e,t,n,r){var s=qe();Z.flags|=e,s.memoizedState=Xr(1|t,n,void 0,r===void 0?null:r)}function Mi(e,t,n,r){var s=ze();r=r===void 0?null:r;var i=void 0;if(ie!==null){var a=ie.memoizedState;if(i=a.destroy,r!==null&&ml(r,a.deps)){s.memoizedState=Xr(t,n,i,r);return}}Z.flags|=e,s.memoizedState=Xr(1|t,n,i,r)}function Oc(e,t){return Ws(8390656,8,e,t)}function yl(e,t){return Mi(2048,8,e,t)}function pf(e,t){return Mi(4,2,e,t)}function mf(e,t){return Mi(4,4,e,t)}function gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xf(e,t,n){return n=n!=null?n.concat([e]):null,Mi(4,4,gf.bind(null,t,e),n)}function vl(){}function yf(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ml(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vf(e,t){var n=ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ml(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wf(e,t,n){return xn&21?(Ye(n,t)||(n=_d(),Z.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_e=!0),e.memoizedState=n)}function sg(e,t){var n=z;z=n!==0&&4>n?n:4,e(!0);var r=xo.transition;xo.transition={};try{e(!1),t()}finally{z=n,xo.transition=r}}function bf(){return ze().memoizedState}function ig(e,t,n){var r=Wt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nf(e))Sf(t,n);else if(n=nf(e,t,n,r),n!==null){var s=ve();Ke(n,e,r,s),_f(n,t,r)}}function og(e,t,n){var r=Wt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nf(e))Sf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Ye(l,a)){var c=t.interleaved;c===null?(s.next=s,ul(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=nf(e,t,s,r),n!==null&&(s=ve(),Ke(n,e,r,s),_f(n,t,r))}}function Nf(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Sf(e,t){Ir=mi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _f(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qa(e,n)}}var gi={readContext:Fe,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useInsertionEffect:pe,useLayoutEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useMutableSource:pe,useSyncExternalStore:pe,useId:pe,unstable_isNewReconciler:!1},ag={readContext:Fe,useCallback:function(e,t){return qe().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Oc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ws(4194308,4,gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var n=qe();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qe();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ig.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=qe();return e={current:e},t.memoizedState=e},useState:Ac,useDebugValue:vl,useDeferredValue:function(e){return qe().memoizedState=e},useTransition:function(){var e=Ac(!1),t=e[0];return e=sg.bind(null,e[1]),qe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,s=qe();if(K){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),ce===null)throw Error(k(349));xn&30||lf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Oc(uf.bind(null,r,i,e),[e]),r.flags|=2048,Xr(9,cf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qe(),t=ce.identifierPrefix;if(K){var n=lt,r=at;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lg={readContext:Fe,useCallback:yf,useContext:Fe,useEffect:yl,useImperativeHandle:xf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:vf,useReducer:yo,useRef:hf,useState:function(){return yo(Yr)},useDebugValue:vl,useDeferredValue:function(e){var t=ze();return wf(t,ie.memoizedState,e)},useTransition:function(){var e=yo(Yr)[0],t=ze().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:af,useId:bf,unstable_isNewReconciler:!1},cg={readContext:Fe,useCallback:yf,useContext:Fe,useEffect:yl,useImperativeHandle:xf,useInsertionEffect:pf,useLayoutEffect:mf,useMemo:vf,useReducer:vo,useRef:hf,useState:function(){return vo(Yr)},useDebugValue:vl,useDeferredValue:function(e){var t=ze();return ie===null?t.memoizedState=e:wf(t,ie.memoizedState,e)},useTransition:function(){var e=vo(Yr)[0],t=ze().memoizedState;return[e,t]},useMutableSource:of,useSyncExternalStore:af,useId:bf,unstable_isNewReconciler:!1};function We(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ca(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ui={isMounted:function(e){return(e=e._reactInternals)?Sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ve(),s=Wt(e),i=ft(r,s);i.payload=t,n!=null&&(i.callback=n),t=Bt(e,i,s),t!==null&&(Ke(t,e,s,r),Bs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ve(),s=Wt(e),i=ft(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Bt(e,i,s),t!==null&&(Ke(t,e,s,r),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ve(),r=Wt(e),s=ft(n,r);s.tag=2,t!=null&&(s.callback=t),t=Bt(e,s,r),t!==null&&(Ke(t,e,r,n),Bs(t,e,r))}};function Dc(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Br(n,r)||!Br(s,i):!0}function jf(e,t,n){var r=!1,s=Xt,i=t.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ee(t)?mn:xe.current,r=t.contextTypes,i=(r=r!=null)?Qn(e,s):Xt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Lc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},dl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ee(t)?mn:xe.current,s.context=Qn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ca(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ui.enqueueReplaceState(s,s.state,null),hi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function er(e,t){try{var n="",r=t;do n+=Mp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function wo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function Ef(e,t,n){n=ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yi||(yi=!0,ba=r),da(e,t)},n}function kf(e,t,n){n=ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){da(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){da(e,t),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Mc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ug;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_g.bind(null,e,t,n),t.then(e,e))}function Uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ft(-1,1),t.tag=2,Bt(n,t,1))),n.lanes|=1),e)}var dg=wt.ReactCurrentOwner,_e=!1;function ye(e,t,n,r){t.child=e===null?tf(t,null,n,r):qn(t,e.child,n,r)}function zc(e,t,n,r,s){n=n.render;var i=t.ref;return Wn(t,s),r=gl(e,t,n,r,i,s),n=xl(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xt(e,t,s)):(K&&n&&sl(t),t.flags|=1,ye(e,t,r,s),t.child)}function Bc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!kl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Cf(e,t,i,r,s)):(e=Ks(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Br,n(a,r)&&e.ref===t.ref)return xt(e,t,s)}return t.flags|=1,e=Ht(i,r),e.ref=t.ref,e.return=t,t.child=e}function Cf(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Br(i,r)&&e.ref===t.ref)if(_e=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(_e=!0);else return t.lanes=e.lanes,xt(e,t,s)}return fa(e,t,n,r,s)}function If(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},W(Mn,Ce),Ce|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,W(Mn,Ce),Ce|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,W(Mn,Ce),Ce|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,W(Mn,Ce),Ce|=r;return ye(e,t,s,n),t.child}function Tf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fa(e,t,n,r,s){var i=Ee(n)?mn:xe.current;return i=Qn(t,i),Wn(t,s),n=gl(e,t,n,r,i,s),r=xl(),e!==null&&!_e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xt(e,t,s)):(K&&r&&sl(t),t.flags|=1,ye(e,t,n,s),t.child)}function $c(e,t,n,r,s){if(Ee(n)){var i=!0;li(t)}else i=!1;if(Wn(t,s),t.stateNode===null)Hs(e,t),jf(t,n,r),ua(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Fe(u):(u=Ee(n)?mn:xe.current,u=Qn(t,u));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Lc(t,a,r,u),kt=!1;var g=t.memoizedState;a.state=g,hi(t,r,a,s),c=t.memoizedState,l!==r||g!==c||je.current||kt?(typeof m=="function"&&(ca(t,n,m,r),c=t.memoizedState),(l=kt||Dc(t,n,l,r,g,c,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,rf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:We(t.type,l),a.props=u,p=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fe(c):(c=Ee(n)?mn:xe.current,c=Qn(t,c));var b=n.getDerivedStateFromProps;(m=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||g!==c)&&Lc(t,a,r,c),kt=!1,g=t.memoizedState,a.state=g,hi(t,r,a,s);var w=t.memoizedState;l!==p||g!==w||je.current||kt?(typeof b=="function"&&(ca(t,n,b,r),w=t.memoizedState),(u=kt||Dc(t,n,u,r,g,w,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ha(e,t,n,r,i,s)}function ha(e,t,n,r,s,i){Tf(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&kc(t,n,!1),xt(e,t,i);r=t.stateNode,dg.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=qn(t,e.child,null,i),t.child=qn(t,null,l,i)):ye(e,t,l,i),t.memoizedState=r.state,s&&kc(t,n,!0),t.child}function Pf(e){var t=e.stateNode;t.pendingContext?Ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ec(e,t.context,!1),fl(e,t.containerInfo)}function Wc(e,t,n,r,s){return Jn(),ol(s),t.flags|=256,ye(e,t,n,r),t.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rf(e,t,n){var r=t.pendingProps,s=J.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),W(J,s&1),e===null)return aa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Bi(a,r,0,null),e=pn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ma(n),t.memoizedState=pa,e):wl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fg(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ht(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ht(l,i):(i=pn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?ma(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=pa,r}return i=e.child,e=i.sibling,r=Ht(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function wl(e,t){return t=Bi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Is(e,t,n,r){return r!==null&&ol(r),qn(t,e.child,null,n),e=wl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fg(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=wo(Error(k(422))),Is(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Bi({mode:"visible",children:r.children},s,0,null),i=pn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&qn(t,e.child,null,a),t.child.memoizedState=ma(a),t.memoizedState=pa,i);if(!(t.mode&1))return Is(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=wo(i,r,void 0),Is(e,t,a,r)}if(l=(a&e.childLanes)!==0,_e||l){if(r=ce,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,gt(e,s),Ke(r,e,s,-1))}return El(),r=wo(Error(k(421))),Is(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=zt(s.nextSibling),Te=t,K=!0,Ve=null,e!==null&&(Oe[De++]=at,Oe[De++]=lt,Oe[De++]=gn,at=e.id,lt=e.overflow,gn=t),t=wl(t,r.children),t.flags|=4096,t)}function Hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),la(e.return,t,n)}function bo(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Af(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ye(e,t,r.children,n),r=J.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hc(e,n,t);else if(e.tag===19)Hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(W(J,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&pi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bo(t,!0,n,null,i);break;case"together":bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Ht(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ht(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hg(e,t,n){switch(t.tag){case 3:Pf(t),Jn();break;case 5:sf(t);break;case 1:Ee(t.type)&&li(t);break;case 4:fl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;W(di,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(W(J,J.current&1),t.flags|=128,null):n&t.child.childLanes?Rf(e,t,n):(W(J,J.current&1),e=xt(e,t,n),e!==null?e.sibling:null);W(J,J.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Af(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(J,J.current),r)break;return null;case 22:case 23:return t.lanes=0,If(e,t,n)}return xt(e,t,n)}var Of,ga,Df,Lf;Of=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ga=function(){};Df=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,fn(nt.current);var i=null;switch(n){case"input":s=Uo(e,s),r=Uo(e,r),i=[];break;case"select":s=ee({},s,{value:void 0}),r=ee({},r,{value:void 0}),i=[];break;case"textarea":s=Bo(e,s),r=Bo(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oi)}Wo(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Or.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Or.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&V("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Lf=function(e,t,n,r){n!==r&&(t.flags|=4)};function gr(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pg(e,t,n){var r=t.pendingProps;switch(il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Ee(t.type)&&ai(),me(t),null;case 3:return r=t.stateNode,Zn(),G(je),G(xe),pl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(_a(Ve),Ve=null))),ga(e,t),me(t),null;case 5:hl(t);var s=fn(Gr.current);if(n=t.type,e!==null&&t.stateNode!=null)Df(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return me(t),null}if(e=fn(nt.current),ks(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ze]=t,r[Hr]=i,e=(t.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(s=0;s<br.length;s++)V(br[s],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":Zl(r,i),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},V("invalid",r);break;case"textarea":tc(r,i),V("invalid",r)}Wo(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Es(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Es(r.textContent,l,e),s=["children",""+l]):Or.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&V("scroll",r)}switch(n){case"input":ys(r),ec(r,i,!0);break;case"textarea":ys(r),nc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ze]=t,e[Hr]=r,Of(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ho(n,r),n){case"dialog":V("cancel",e),V("close",e),s=r;break;case"iframe":case"object":case"embed":V("load",e),s=r;break;case"video":case"audio":for(s=0;s<br.length;s++)V(br[s],e);s=r;break;case"source":V("error",e),s=r;break;case"img":case"image":case"link":V("error",e),V("load",e),s=r;break;case"details":V("toggle",e),s=r;break;case"input":Zl(e,r),s=Uo(e,r),V("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ee({},r,{value:void 0}),V("invalid",e);break;case"textarea":tc(e,r),s=Bo(e,r),V("invalid",e);break;default:s=r}Wo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?fd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ud(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Dr(e,c):typeof c=="number"&&Dr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Or.hasOwnProperty(i)?c!=null&&i==="onScroll"&&V("scroll",e):c!=null&&Ha(e,i,c,a))}switch(n){case"input":ys(e),ec(e,r,!1);break;case"textarea":ys(e),nc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Fn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)Lf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=fn(Gr.current),fn(nt.current),ks(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ze]=t,(i=r.nodeValue!==n)&&(e=Te,e!==null))switch(e.tag){case 3:Es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=t,t.stateNode=r}return me(t),null;case 13:if(G(J),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(K&&Ie!==null&&t.mode&1&&!(t.flags&128))Zd(),Jn(),t.flags|=98560,i=!1;else if(i=ks(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(k(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Ze]=t}else Jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),i=!1}else Ve!==null&&(_a(Ve),Ve=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||J.current&1?oe===0&&(oe=3):El())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return Zn(),ga(e,t),e===null&&$r(t.stateNode.containerInfo),me(t),null;case 10:return cl(t.type._context),me(t),null;case 17:return Ee(t.type)&&ai(),me(t),null;case 19:if(G(J),i=t.memoizedState,i===null)return me(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)gr(i,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=pi(e),a!==null){for(t.flags|=128,gr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return W(J,J.current&1|2),t.child}e=e.sibling}i.tail!==null&&ne()>tr&&(t.flags|=128,r=!0,gr(i,!1),t.lanes=4194304)}else{if(!r)if(e=pi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),gr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!K)return me(t),null}else 2*ne()-i.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,r=!0,gr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ne(),t.sibling=null,n=J.current,W(J,r?n&1|2:n&1),t):(me(t),null);case 22:case 23:return jl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ce&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function mg(e,t){switch(il(t),t.tag){case 1:return Ee(t.type)&&ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(),G(je),G(xe),pl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hl(t),null;case 13:if(G(J),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(J),null;case 4:return Zn(),null;case 10:return cl(t.type._context),null;case 22:case 23:return jl(),null;case 24:return null;default:return null}}var Ts=!1,ge=!1,gg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ln(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){te(e,t,r)}else n.current=null}function xa(e,t,n){try{n()}catch(r){te(e,t,r)}}var Vc=!1;function xg(e,t){if(ea=ri,e=zd(),rl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,m=0,p=e,g=null;t:for(;;){for(var b;p!==n||s!==0&&p.nodeType!==3||(l=a+s),p!==i||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(b=p.firstChild)!==null;)g=p,p=b;for(;;){if(p===e)break t;if(g===n&&++u===s&&(l=a),g===i&&++m===r&&(c=a),(b=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=b}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},ri=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,N=w.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:We(t.type,v),N);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(x){te(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return w=Vc,Vc=!1,w}function Tr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xa(t,n,i)}s=s.next}while(s!==r)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ya(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mf(e){var t=e.alternate;t!==null&&(e.alternate=null,Mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ze],delete t[Hr],delete t[sa],delete t[Zm],delete t[eg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uf(e){return e.tag===5||e.tag===3||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oi));else if(r!==4&&(e=e.child,e!==null))for(va(e,t,n),e=e.sibling;e!==null;)va(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wa(e,t,n),e=e.sibling;e!==null;)wa(e,t,n),e=e.sibling}var ue=null,He=!1;function _t(e,t,n){for(n=n.child;n!==null;)Ff(e,t,n),n=n.sibling}function Ff(e,t,n){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Pi,n)}catch{}switch(n.tag){case 5:ge||Ln(n,t);case 6:var r=ue,s=He;ue=null,_t(e,t,n),ue=r,He=s,ue!==null&&(He?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(He?(e=ue,n=n.stateNode,e.nodeType===8?po(e.parentNode,n):e.nodeType===1&&po(e,n),Fr(e)):po(ue,n.stateNode));break;case 4:r=ue,s=He,ue=n.stateNode.containerInfo,He=!0,_t(e,t,n),ue=r,He=s;break;case 0:case 11:case 14:case 15:if(!ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&xa(n,t,a),s=s.next}while(s!==r)}_t(e,t,n);break;case 1:if(!ge&&(Ln(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){te(n,t,l)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(ge=(r=ge)||n.memoizedState!==null,_t(e,t,n),ge=r):_t(e,t,n);break;default:_t(e,t,n)}}function Kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gg),t.forEach(function(r){var s=Eg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $e(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ue=l.stateNode,He=!1;break e;case 3:ue=l.stateNode.containerInfo,He=!0;break e;case 4:ue=l.stateNode.containerInfo,He=!0;break e}l=l.return}if(ue===null)throw Error(k(160));Ff(i,a,s),ue=null,He=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){te(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zf(t,e),t=t.sibling}function zf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($e(t,e),Qe(e),r&4){try{Tr(3,e,e.return),Fi(3,e)}catch(v){te(e,e.return,v)}try{Tr(5,e,e.return)}catch(v){te(e,e.return,v)}}break;case 1:$e(t,e),Qe(e),r&512&&n!==null&&Ln(n,n.return);break;case 5:if($e(t,e),Qe(e),r&512&&n!==null&&Ln(n,n.return),e.flags&32){var s=e.stateNode;try{Dr(s,"")}catch(v){te(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ad(s,i),Ho(l,a);var u=Ho(l,i);for(a=0;a<c.length;a+=2){var m=c[a],p=c[a+1];m==="style"?fd(s,p):m==="dangerouslySetInnerHTML"?ud(s,p):m==="children"?Dr(s,p):Ha(s,m,p,u)}switch(l){case"input":Fo(s,i);break;case"textarea":ld(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?Fn(s,!!i.multiple,b,!1):g!==!!i.multiple&&(i.defaultValue!=null?Fn(s,!!i.multiple,i.defaultValue,!0):Fn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hr]=i}catch(v){te(e,e.return,v)}}break;case 6:if($e(t,e),Qe(e),r&4){if(e.stateNode===null)throw Error(k(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){te(e,e.return,v)}}break;case 3:if($e(t,e),Qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fr(t.containerInfo)}catch(v){te(e,e.return,v)}break;case 4:$e(t,e),Qe(e);break;case 13:$e(t,e),Qe(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Sl=ne())),r&4&&Kc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ge=(u=ge)||m,$e(t,e),ge=u):$e(t,e),Qe(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(P=e,m=e.child;m!==null;){for(p=P=m;P!==null;){switch(g=P,b=g.child,g.tag){case 0:case 11:case 14:case 15:Tr(4,g,g.return);break;case 1:Ln(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){te(r,n,v)}}break;case 5:Ln(g,g.return);break;case 22:if(g.memoizedState!==null){Xc(p);continue}}b!==null?(b.return=g,P=b):Xc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dd("display",a))}catch(v){te(e,e.return,v)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){te(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:$e(t,e),Qe(e),r&4&&Kc(e);break;case 21:break;default:$e(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Uf(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dr(s,""),r.flags&=-33);var i=Gc(e);wa(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Gc(e);va(e,l,a);break;default:throw Error(k(161))}}catch(c){te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yg(e,t,n){P=e,Bf(e)}function Bf(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ts;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ge;l=Ts;var u=ge;if(Ts=a,(ge=c)&&!u)for(P=s;P!==null;)a=P,c=a.child,a.tag===22&&a.memoizedState!==null?Qc(s):c!==null?(c.return=a,P=c):Qc(s);for(;i!==null;)P=i,Bf(i),i=i.sibling;P=s,Ts=l,ge=u}Yc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Yc(e)}}function Yc(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ge||Fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ge)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:We(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Rc(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rc(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Fr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ge||t.flags&512&&ya(t)}catch(g){te(t,t.return,g)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Xc(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function Qc(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(c){te(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){te(t,s,c)}}var i=t.return;try{ya(t)}catch(c){te(t,i,c)}break;case 5:var a=t.return;try{ya(t)}catch(c){te(t,a,c)}}}catch(c){te(t,t.return,c)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var vg=Math.ceil,xi=wt.ReactCurrentDispatcher,bl=wt.ReactCurrentOwner,Me=wt.ReactCurrentBatchConfig,M=0,ce=null,se=null,de=0,Ce=0,Mn=Jt(0),oe=0,Qr=null,yn=0,zi=0,Nl=0,Pr=null,Se=null,Sl=0,tr=1/0,it=null,yi=!1,ba=null,$t=null,Ps=!1,Dt=null,vi=0,Rr=0,Na=null,Vs=-1,Gs=0;function ve(){return M&6?ne():Vs!==-1?Vs:Vs=ne()}function Wt(e){return e.mode&1?M&2&&de!==0?de&-de:ng.transition!==null?(Gs===0&&(Gs=_d()),Gs):(e=z,e!==0||(e=window.event,e=e===void 0?16:Pd(e.type)),e):1}function Ke(e,t,n,r){if(50<Rr)throw Rr=0,Na=null,Error(k(185));ss(e,n,r),(!(M&2)||e!==ce)&&(e===ce&&(!(M&2)&&(zi|=n),oe===4&&It(e,de)),ke(e,r),n===1&&M===0&&!(t.mode&1)&&(tr=ne()+500,Li&&qt()))}function ke(e,t){var n=e.callbackNode;nm(e,t);var r=ni(e,e===ce?de:0);if(r===0)n!==null&&ic(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ic(n),t===1)e.tag===0?tg(Jc.bind(null,e)):Qd(Jc.bind(null,e)),Jm(function(){!(M&6)&&qt()}),n=null;else{switch(jd(r)){case 1:n=Xa;break;case 4:n=Nd;break;case 16:n=ti;break;case 536870912:n=Sd;break;default:n=ti}n=Xf(n,$f.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $f(e,t){if(Vs=-1,Gs=0,M&6)throw Error(k(327));var n=e.callbackNode;if(Hn()&&e.callbackNode!==n)return null;var r=ni(e,e===ce?de:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wi(e,r);else{t=r;var s=M;M|=2;var i=Hf();(ce!==e||de!==t)&&(it=null,tr=ne()+500,hn(e,t));do try{Ng();break}catch(l){Wf(e,l)}while(!0);ll(),xi.current=i,M=s,se!==null?t=0:(ce=null,de=0,t=oe)}if(t!==0){if(t===2&&(s=Xo(e),s!==0&&(r=s,t=Sa(e,s))),t===1)throw n=Qr,hn(e,0),It(e,r),ke(e,ne()),n;if(t===6)It(e,r);else{if(s=e.current.alternate,!(r&30)&&!wg(s)&&(t=wi(e,r),t===2&&(i=Xo(e),i!==0&&(r=i,t=Sa(e,i))),t===1))throw n=Qr,hn(e,0),It(e,r),ke(e,ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:ln(e,Se,it);break;case 3:if(It(e,r),(r&130023424)===r&&(t=Sl+500-ne(),10<t)){if(ni(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ra(ln.bind(null,e,Se,it),t);break}ln(e,Se,it);break;case 4:if(It(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ge(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vg(r/1960))-r,10<r){e.timeoutHandle=ra(ln.bind(null,e,Se,it),r);break}ln(e,Se,it);break;case 5:ln(e,Se,it);break;default:throw Error(k(329))}}}return ke(e,ne()),e.callbackNode===n?$f.bind(null,e):null}function Sa(e,t){var n=Pr;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Se,Se=n,t!==null&&_a(t)),e}function _a(e){Se===null?Se=e:Se.push.apply(Se,e)}function wg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Nl,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ge(t),r=1<<n;e[n]=-1,t&=~r}}function Jc(e){if(M&6)throw Error(k(327));Hn();var t=ni(e,0);if(!(t&1))return ke(e,ne()),null;var n=wi(e,t);if(e.tag!==0&&n===2){var r=Xo(e);r!==0&&(t=r,n=Sa(e,r))}if(n===1)throw n=Qr,hn(e,0),It(e,t),ke(e,ne()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,Se,it),ke(e,ne()),null}function _l(e,t){var n=M;M|=1;try{return e(t)}finally{M=n,M===0&&(tr=ne()+500,Li&&qt())}}function vn(e){Dt!==null&&Dt.tag===0&&!(M&6)&&Hn();var t=M;M|=1;var n=Me.transition,r=z;try{if(Me.transition=null,z=1,e)return e()}finally{z=r,Me.transition=n,M=t,!(M&6)&&qt()}}function jl(){Ce=Mn.current,G(Mn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qm(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(il(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ai();break;case 3:Zn(),G(je),G(xe),pl();break;case 5:hl(r);break;case 4:Zn();break;case 13:G(J);break;case 19:G(J);break;case 10:cl(r.type._context);break;case 22:case 23:jl()}n=n.return}if(ce=e,se=e=Ht(e.current,null),de=Ce=t,oe=0,Qr=null,Nl=zi=yn=0,Se=Pr=null,dn!==null){for(t=0;t<dn.length;t++)if(n=dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}dn=null}return e}function Wf(e,t){do{var n=se;try{if(ll(),$s.current=gi,mi){for(var r=Z.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mi=!1}if(xn=0,le=ie=Z=null,Ir=!1,Kr=0,bl.current=null,n===null||n.return===null){oe=1,Qr=t,se=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=de,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=l,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var b=Uc(a);if(b!==null){b.flags&=-257,Fc(b,a,l,i,t),b.mode&1&&Mc(i,u,t),t=b,c=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(c),t.updateQueue=v}else w.add(c);break e}else{if(!(t&1)){Mc(i,u,t),El();break e}c=Error(k(426))}}else if(K&&l.mode&1){var N=Uc(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Fc(N,a,l,i,t),ol(er(c,l));break e}}i=c=er(c,l),oe!==4&&(oe=2),Pr===null?Pr=[i]:Pr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Ef(i,c,t);Pc(i,h);break e;case 1:l=c;var d=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($t===null||!$t.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=kf(i,l,t);Pc(i,x);break e}}i=i.return}while(i!==null)}Gf(n)}catch(S){t=S,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function Hf(){var e=xi.current;return xi.current=gi,e===null?gi:e}function El(){(oe===0||oe===3||oe===2)&&(oe=4),ce===null||!(yn&268435455)&&!(zi&268435455)||It(ce,de)}function wi(e,t){var n=M;M|=2;var r=Hf();(ce!==e||de!==t)&&(it=null,hn(e,t));do try{bg();break}catch(s){Wf(e,s)}while(!0);if(ll(),M=n,xi.current=r,se!==null)throw Error(k(261));return ce=null,de=0,oe}function bg(){for(;se!==null;)Vf(se)}function Ng(){for(;se!==null&&!Kp();)Vf(se)}function Vf(e){var t=Yf(e.alternate,e,Ce);e.memoizedProps=e.pendingProps,t===null?Gf(e):se=t,bl.current=null}function Gf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mg(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,se=null;return}}else if(n=pg(n,t,Ce),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);oe===0&&(oe=5)}function ln(e,t,n){var r=z,s=Me.transition;try{Me.transition=null,z=1,Sg(e,t,n,r)}finally{Me.transition=s,z=r}return null}function Sg(e,t,n,r){do Hn();while(Dt!==null);if(M&6)throw Error(k(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rm(e,i),e===ce&&(se=ce=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,Xf(ti,function(){return Hn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var a=z;z=1;var l=M;M|=4,bl.current=null,xg(e,n),zf(n,e),Wm(ta),ri=!!ea,ta=ea=null,e.current=n,yg(n),Yp(),M=l,z=a,Me.transition=i}else e.current=n;if(Ps&&(Ps=!1,Dt=e,vi=s),i=e.pendingLanes,i===0&&($t=null),Jp(n.stateNode),ke(e,ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yi)throw yi=!1,e=ba,ba=null,e;return vi&1&&e.tag!==0&&Hn(),i=e.pendingLanes,i&1?e===Na?Rr++:(Rr=0,Na=e):Rr=0,qt(),null}function Hn(){if(Dt!==null){var e=jd(vi),t=Me.transition,n=z;try{if(Me.transition=null,z=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,vi=0,M&6)throw Error(k(331));var s=M;for(M|=4,P=e.current;P!==null;){var i=P,a=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(P=u;P!==null;){var m=P;switch(m.tag){case 0:case 11:case 15:Tr(8,m,i)}var p=m.child;if(p!==null)p.return=m,P=p;else for(;P!==null;){m=P;var g=m.sibling,b=m.return;if(Mf(m),m===u){P=null;break}if(g!==null){g.return=b,P=g;break}P=b}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}P=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,P=a;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,P=h;break e}P=i.return}}var d=e.current;for(P=d;P!==null;){a=P;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,P=f;else e:for(a=d;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fi(9,l)}}catch(S){te(l,l.return,S)}if(l===a){P=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,P=x;break e}P=l.return}}if(M=s,qt(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Pi,e)}catch{}r=!0}return r}finally{z=n,Me.transition=t}}return!1}function qc(e,t,n){t=er(n,t),t=Ef(e,t,1),e=Bt(e,t,1),t=ve(),e!==null&&(ss(e,1,t),ke(e,t))}function te(e,t,n){if(e.tag===3)qc(e,e,n);else for(;t!==null;){if(t.tag===3){qc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){e=er(n,e),e=kf(t,e,1),t=Bt(t,e,1),e=ve(),t!==null&&(ss(t,1,e),ke(t,e));break}}t=t.return}}function _g(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(de&n)===n&&(oe===4||oe===3&&(de&130023424)===de&&500>ne()-Sl?hn(e,0):Nl|=n),ke(e,t)}function Kf(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var n=ve();e=gt(e,t),e!==null&&(ss(e,t,n),ke(e,n))}function jg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kf(e,n)}function Eg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),Kf(e,n)}var Yf;Yf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)_e=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _e=!1,hg(e,t,n);_e=!!(e.flags&131072)}else _e=!1,K&&t.flags&1048576&&Jd(t,ui,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var s=Qn(t,xe.current);Wn(t,n),s=gl(null,t,r,e,s,n);var i=xl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ee(r)?(i=!0,li(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dl(t),s.updater=Ui,t.stateNode=s,s._reactInternals=t,ua(t,r,e,n),t=ha(null,t,r,!0,i,n)):(t.tag=0,K&&i&&sl(t),ye(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Cg(r),e=We(r,e),s){case 0:t=fa(null,t,r,e,n);break e;case 1:t=$c(null,t,r,e,n);break e;case 11:t=zc(null,t,r,e,n);break e;case 14:t=Bc(null,t,r,We(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:We(r,s),fa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:We(r,s),$c(e,t,r,s,n);case 3:e:{if(Pf(t),e===null)throw Error(k(387));r=t.pendingProps,i=t.memoizedState,s=i.element,rf(e,t),hi(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=er(Error(k(423)),t),t=Wc(e,t,r,n,s);break e}else if(r!==s){s=er(Error(k(424)),t),t=Wc(e,t,r,n,s);break e}else for(Ie=zt(t.stateNode.containerInfo.firstChild),Te=t,K=!0,Ve=null,n=tf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jn(),r===s){t=xt(e,t,n);break e}ye(e,t,r,n)}t=t.child}return t;case 5:return sf(t),e===null&&aa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,na(r,s)?a=null:i!==null&&na(r,i)&&(t.flags|=32),Tf(e,t),ye(e,t,a,n),t.child;case 6:return e===null&&aa(t),null;case 13:return Rf(e,t,n);case 4:return fl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qn(t,null,r,n):ye(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:We(r,s),zc(e,t,r,s,n);case 7:return ye(e,t,t.pendingProps,n),t.child;case 8:return ye(e,t,t.pendingProps.children,n),t.child;case 12:return ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,W(di,r._currentValue),r._currentValue=a,i!==null)if(Ye(i.value,a)){if(i.children===s.children&&!je.current){t=xt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ft(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),la(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(k(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),la(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ye(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wn(t,n),s=Fe(s),r=r(s),t.flags|=1,ye(e,t,r,n),t.child;case 14:return r=t.type,s=We(r,t.pendingProps),s=We(r.type,s),Bc(e,t,r,s,n);case 15:return Cf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:We(r,s),Hs(e,t),t.tag=1,Ee(r)?(e=!0,li(t)):e=!1,Wn(t,n),jf(t,r,s),ua(t,r,s,n),ha(null,t,r,!0,e,n);case 19:return Af(e,t,n);case 22:return If(e,t,n)}throw Error(k(156,t.tag))};function Xf(e,t){return bd(e,t)}function kg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(e,t,n,r){return new kg(e,t,n,r)}function kl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cg(e){if(typeof e=="function")return kl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ga)return 11;if(e===Ka)return 14}return 2}function Ht(e,t){var n=e.alternate;return n===null?(n=Le(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")kl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case kn:return pn(n.children,s,i,t);case Va:a=8,s|=8;break;case Oo:return e=Le(12,n,t,s|2),e.elementType=Oo,e.lanes=i,e;case Do:return e=Le(13,n,t,s),e.elementType=Do,e.lanes=i,e;case Lo:return e=Le(19,n,t,s),e.elementType=Lo,e.lanes=i,e;case sd:return Bi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nd:a=10;break e;case rd:a=9;break e;case Ga:a=11;break e;case Ka:a=14;break e;case Et:a=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Le(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function pn(e,t,n,r){return e=Le(7,e,r,t),e.lanes=n,e}function Bi(e,t,n,r){return e=Le(22,e,r,t),e.elementType=sd,e.lanes=n,e.stateNode={isHidden:!1},e}function No(e,t,n){return e=Le(6,e,null,t),e.lanes=n,e}function So(e,t,n){return t=Le(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ig(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cl(e,t,n,r,s,i,a,l,c){return e=new Ig(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Le(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dl(i),e}function Tg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:En,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qf(e){if(!e)return Xt;e=e._reactInternals;e:{if(Sn(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ee(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Ee(n))return Xd(e,n,t)}return t}function Jf(e,t,n,r,s,i,a,l,c){return e=Cl(n,r,!0,e,s,i,a,l,c),e.context=Qf(null),n=e.current,r=ve(),s=Wt(n),i=ft(r,s),i.callback=t??null,Bt(n,i,s),e.current.lanes=s,ss(e,s,r),ke(e,r),e}function $i(e,t,n,r){var s=t.current,i=ve(),a=Wt(s);return n=Qf(n),t.context===null?t.context=n:t.pendingContext=n,t=ft(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bt(s,t,a),e!==null&&(Ke(e,s,a,i),Bs(e,s,a)),a}function bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Il(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function Pg(){return null}var qf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tl(e){this._internalRoot=e}Wi.prototype.render=Tl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));$i(e,t,null,null)};Wi.prototype.unmount=Tl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){$i(null,e,null,null)}),t[mt]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&t!==0&&t<Ct[n].priority;n++);Ct.splice(n,0,e),n===0&&Td(e)}};function Pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eu(){}function Rg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=bi(a);i.call(u)}}var a=Jf(t,r,e,0,null,!1,!1,"",eu);return e._reactRootContainer=a,e[mt]=a.current,$r(e.nodeType===8?e.parentNode:e),vn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=bi(c);l.call(u)}}var c=Cl(e,0,!1,null,null,!1,!1,"",eu);return e._reactRootContainer=c,e[mt]=c.current,$r(e.nodeType===8?e.parentNode:e),vn(function(){$i(t,c,n,r)}),c}function Vi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=bi(a);l.call(c)}}$i(t,a,e,s)}else a=Rg(n,t,e,s,r);return bi(a)}Ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wr(t.pendingLanes);n!==0&&(Qa(t,n|1),ke(t,ne()),!(M&6)&&(tr=ne()+500,qt()))}break;case 13:vn(function(){var r=gt(e,1);if(r!==null){var s=ve();Ke(r,e,1,s)}}),Il(e,1)}};Ja=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var n=ve();Ke(t,e,134217728,n)}Il(e,134217728)}};kd=function(e){if(e.tag===13){var t=Wt(e),n=gt(e,t);if(n!==null){var r=ve();Ke(n,e,t,r)}Il(e,t)}};Cd=function(){return z};Id=function(e,t){var n=z;try{return z=e,t()}finally{z=n}};Go=function(e,t,n){switch(t){case"input":if(Fo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Di(r);if(!s)throw Error(k(90));od(r),Fo(r,s)}}}break;case"textarea":ld(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}};md=_l;gd=vn;var Ag={usingClientEntryPoint:!1,Events:[os,Pn,Di,hd,pd,_l]},xr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Og={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vd(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||Pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Pi=Rs.inject(Og),tt=Rs}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ag;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pl(t))throw Error(k(200));return Tg(e,t,null,n)};Re.createRoot=function(e,t){if(!Pl(e))throw Error(k(299));var n=!1,r="",s=qf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cl(e,1,!1,null,null,n,!1,r,s),e[mt]=t.current,$r(e.nodeType===8?e.parentNode:e),new Tl(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=vd(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return vn(e)};Re.hydrate=function(e,t,n){if(!Hi(t))throw Error(k(200));return Vi(null,e,t,!0,n)};Re.hydrateRoot=function(e,t,n){if(!Pl(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=qf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Jf(t,null,e,1,n??null,s,!1,i,a),e[mt]=t.current,$r(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Wi(t)};Re.render=function(e,t,n){if(!Hi(t))throw Error(k(200));return Vi(null,e,t,!1,n)};Re.unmountComponentAtNode=function(e){if(!Hi(e))throw Error(k(40));return e._reactRootContainer?(vn(function(){Vi(null,null,e,!1,function(){e._reactRootContainer=null,e[mt]=null})}),!0):!1};Re.unstable_batchedUpdates=_l;Re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hi(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Vi(e,t,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function Zf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zf)}catch(e){console.error(e)}}Zf(),qu.exports=Re;var Dg=qu.exports,tu=Dg;Ro.createRoot=tu.createRoot,Ro.hydrateRoot=tu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(this,arguments)}var Lt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lt||(Lt={}));const nu="popstate";function Lg(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return ja("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ni(s)}return Ug(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function eh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mg(){return Math.random().toString(36).substr(2,8)}function ru(e,t){return{usr:e.state,key:e.key,idx:t}}function ja(e,t,n,r){return n===void 0&&(n=null),Jr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?or(t):t,{state:n,key:t&&t.key||r||Mg()})}function Ni(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function or(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ug(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Lt.Pop,c=null,u=m();u==null&&(u=0,a.replaceState(Jr({},a.state,{idx:u}),""));function m(){return(a.state||{idx:null}).idx}function p(){l=Lt.Pop;let N=m(),h=N==null?null:N-u;u=N,c&&c({action:l,location:v.location,delta:h})}function g(N,h){l=Lt.Push;let d=ja(v.location,N,h);u=m()+1;let f=ru(d,u),x=v.createHref(d);try{a.pushState(f,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&c&&c({action:l,location:v.location,delta:1})}function b(N,h){l=Lt.Replace;let d=ja(v.location,N,h);u=m();let f=ru(d,u),x=v.createHref(d);a.replaceState(f,"",x),i&&c&&c({action:l,location:v.location,delta:0})}function w(N){let h=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof N=="string"?N:Ni(N);return d=d.replace(/ $/,"%20"),re(h,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,h)}let v={get action(){return l},get location(){return e(s,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nu,p),c=N,()=>{s.removeEventListener(nu,p),c=null}},createHref(N){return t(s,N)},createURL:w,encodeLocation(N){let h=w(N);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:b,go(N){return a.go(N)}};return v}var su;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(su||(su={}));function Fg(e,t,n){return n===void 0&&(n="/"),zg(e,t,n)}function zg(e,t,n,r){let s=typeof t=="string"?or(t):t,i=Rl(s.pathname||"/",n);if(i==null)return null;let a=th(e);Bg(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Zg(i);l=Qg(a[c],u)}return l}function th(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Vt([r,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),th(i.children,t,m,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Yg(u,i.index),routesMeta:m})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of nh(i.path))s(i,a,c)}),t}function nh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=nh(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $g=/^:[\w-]+$/,Wg=3,Hg=2,Vg=1,Gg=10,Kg=-2,iu=e=>e==="*";function Yg(e,t){let n=e.split("/"),r=n.length;return n.some(iu)&&(r+=Kg),t&&(r+=Hg),n.filter(s=>!iu(s)).reduce((s,i)=>s+($g.test(i)?Wg:i===""?Vg:Gg),r)}function Xg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Qg(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=Jg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),g=c.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Vt([i,p.pathname]),pathnameBase:r0(Vt([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Vt([i,p.pathnameBase]))}return a}function Jg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,m,p)=>{let{paramName:g,isOptional:b}=m;if(g==="*"){let v=l[p]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=l[p];return b&&!w?u[g]=void 0:u[g]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function qg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),eh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Zg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return eh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function e0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?or(e):e;return{pathname:n?n.startsWith("/")?n:t0(n,t):t,search:s0(r),hash:i0(s)}}function t0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _o(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Al(e,t){let n=n0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ol(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=or(e):(s=Jr({},e),re(!s.pathname||!s.pathname.includes("?"),_o("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),_o("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),_o("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=e0(s,l),u=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const Vt=e=>e.join("/").replace(/\/\/+/g,"/"),r0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function o0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rh=["post","put","patch","delete"];new Set(rh);const a0=["get",...rh];new Set(a0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}const Dl=y.createContext(null),l0=y.createContext(null),Zt=y.createContext(null),Gi=y.createContext(null),bt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),sh=y.createContext(null);function c0(e,t){let{relative:n}=t===void 0?{}:t;ar()||re(!1);let{basename:r,navigator:s}=y.useContext(Zt),{hash:i,pathname:a,search:l}=ah(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Vt([r,a])),s.createHref({pathname:c,search:l,hash:i})}function ar(){return y.useContext(Gi)!=null}function lr(){return ar()||re(!1),y.useContext(Gi).location}function ih(e){y.useContext(Zt).static||y.useLayoutEffect(e)}function he(){let{isDataRoute:e}=y.useContext(bt);return e?N0():u0()}function u0(){ar()||re(!1);let e=y.useContext(Dl),{basename:t,future:n,navigator:r}=y.useContext(Zt),{matches:s}=y.useContext(bt),{pathname:i}=lr(),a=JSON.stringify(Al(s,n.v7_relativeSplatPath)),l=y.useRef(!1);return ih(()=>{l.current=!0}),y.useCallback(function(u,m){if(m===void 0&&(m={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=Ol(u,JSON.parse(a),i,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Vt([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,a,i,e])}function oh(){let{matches:e}=y.useContext(bt),t=e[e.length-1];return t?t.params:{}}function ah(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Zt),{matches:s}=y.useContext(bt),{pathname:i}=lr(),a=JSON.stringify(Al(s,r.v7_relativeSplatPath));return y.useMemo(()=>Ol(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function d0(e,t){return f0(e,t)}function f0(e,t,n,r){ar()||re(!1);let{navigator:s}=y.useContext(Zt),{matches:i}=y.useContext(bt),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=lr(),m;if(t){var p;let N=typeof t=="string"?or(t):t;c==="/"||(p=N.pathname)!=null&&p.startsWith(c)||re(!1),m=N}else m=u;let g=m.pathname||"/",b=g;if(c!=="/"){let N=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let w=Fg(e,{pathname:b}),v=x0(w&&w.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Vt([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Vt([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,r);return t&&v?y.createElement(Gi.Provider,{value:{location:qr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Lt.Pop}},v):v}function h0(){let e=b0(),t=o0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,null)}const p0=y.createElement(h0,null);class m0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(bt.Provider,{value:this.props.routeContext},y.createElement(sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g0(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(Dl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(bt.Provider,{value:t},r)}function x0(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);m>=0||re(!1),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:g,errors:b}=n,w=p.route.loader&&g[p.route.id]===void 0&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((m,p,g)=>{let b,w=!1,v=null,N=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||p0,c&&(u<0&&g===0?(S0("route-fallback"),w=!0,N=null):u===g&&(w=!0,N=p.route.hydrateFallbackElement||null)));let h=t.concat(a.slice(0,g+1)),d=()=>{let f;return b?f=v:w?f=N:p.route.Component?f=y.createElement(p.route.Component,null):p.route.element?f=p.route.element:f=m,y.createElement(g0,{match:p,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:f})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?y.createElement(m0,{location:n.location,revalidation:n.revalidation,component:v,error:b,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var lh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lh||{}),ch=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ch||{});function y0(e){let t=y.useContext(Dl);return t||re(!1),t}function v0(e){let t=y.useContext(l0);return t||re(!1),t}function w0(e){let t=y.useContext(bt);return t||re(!1),t}function uh(e){let t=w0(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}function b0(){var e;let t=y.useContext(sh),n=v0(),r=uh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function N0(){let{router:e}=y0(lh.UseNavigateStable),t=uh(ch.UseNavigateStable),n=y.useRef(!1);return ih(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qr({fromRouteId:t},i)))},[e,t])}const ou={};function S0(e,t,n){ou[e]||(ou[e]=!0)}function _0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dh(e){let{to:t,replace:n,state:r,relative:s}=e;ar()||re(!1);let{future:i,static:a}=y.useContext(Zt),{matches:l}=y.useContext(bt),{pathname:c}=lr(),u=he(),m=Ol(t,Al(l,i.v7_relativeSplatPath),c,s==="path"),p=JSON.stringify(m);return y.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function ae(e){re(!1)}function j0(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Lt.Pop,navigator:i,static:a=!1,future:l}=e;ar()&&re(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:a,future:qr({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=or(r));let{pathname:m="/",search:p="",hash:g="",state:b=null,key:w="default"}=r,v=y.useMemo(()=>{let N=Rl(m,c);return N==null?null:{location:{pathname:N,search:p,hash:g,state:b,key:w},navigationType:s}},[c,m,p,g,b,w,s]);return v==null?null:y.createElement(Zt.Provider,{value:u},y.createElement(Gi.Provider,{children:n,value:v}))}function E0(e){let{children:t,location:n}=e;return d0(Ea(t),n)}new Promise(()=>{});function Ea(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let i=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Ea(r.props.children,i));return}r.type!==ae&&re(!1),!r.props.index||!r.props.children||re(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ea(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}function k0(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function C0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I0(e,t){return e.button===0&&(!t||t==="_self")&&!C0(e)}function Ca(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function T0(e,t){let n=Ca(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(i=>{n.append(s,i)})}),n}const P0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R0="6";try{window.__reactRouterVersion=R0}catch{}const A0="startTransition",au=_p[A0];function O0(e){let{basename:t,children:n,future:r,window:s}=e,i=y.useRef();i.current==null&&(i.current=Lg({window:s,v5Compat:!0}));let a=i.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},m=y.useCallback(p=>{u&&au?au(()=>c(p)):c(p)},[c,u]);return y.useLayoutEffect(()=>a.listen(m),[a,m]),y.useEffect(()=>_0(r),[r]),y.createElement(j0,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const D0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:m,viewTransition:p}=t,g=k0(t,P0),{basename:b}=y.useContext(Zt),w,v=!1;if(typeof u=="string"&&L0.test(u)&&(w=u,D0))try{let f=new URL(window.location.href),x=u.startsWith("//")?new URL(f.protocol+u):new URL(u),S=Rl(x.pathname,b);x.origin===f.origin&&S!=null?u=S+x.search+x.hash:v=!0}catch{}let N=c0(u,{relative:s}),h=M0(u,{replace:a,state:l,target:c,preventScrollReset:m,relative:s,viewTransition:p});function d(f){r&&r(f),f.defaultPrevented||h(f)}return y.createElement("a",ka({},g,{href:w||N,onClick:v||i?r:d,ref:n,target:c}))});var lu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lu||(lu={}));var cu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cu||(cu={}));function M0(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=he(),u=lr(),m=ah(e,{relative:a});return y.useCallback(p=>{if(I0(p,n)){p.preventDefault();let g=r!==void 0?r:Ni(u)===Ni(m);c(e,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,m,r,s,n,e,i,a,l])}function U0(e){let t=y.useRef(Ca(e)),n=y.useRef(!1),r=lr(),s=y.useMemo(()=>T0(r.search,n.current?null:t.current),[r.search]),i=he(),a=y.useCallback((l,c)=>{const u=Ca(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var uu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},F0=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],a=e[n++],l=e[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],a=s+1<e.length,l=a?e[s+1]:0,c=s+2<e.length,u=c?e[s+2]:0,m=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|u>>6,b=u&63;c||(b=64,a||(g=64)),r.push(n[m],n[p],n[g],n[b])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fh(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):F0(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const u=s<e.length?n[e.charAt(s)]:64;++s;const p=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new z0;const g=i<<2|l>>4;if(r.push(g),u!==64){const b=l<<4&240|u>>2;if(r.push(b),p!==64){const w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class z0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B0=function(e){const t=fh(e);return hh.encodeByteArray(t,!0)},ph=function(e){return B0(e).replace(/\./g,"")},mh=function(e){try{return hh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=()=>$0().__FIREBASE_DEFAULTS__,H0=()=>{if(typeof process>"u"||typeof uu>"u")return;const e=uu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},V0=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mh(e[1]);return t&&JSON.parse(t)},Ll=()=>{try{return W0()||H0()||V0()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},G0=e=>{var t,n;return(n=(t=Ll())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},gh=()=>{var e;return(e=Ll())===null||e===void 0?void 0:e.config},xh=e=>{var t;return(t=Ll())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function X0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q0(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function J0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q0(){const e=we();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Z0(){try{return typeof indexedDB=="object"}catch{return!1}}function ex(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="FirebaseError";class en extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=tx,Object.setPrototypeOf(this,en.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ls.prototype.create)}}class ls{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?nx(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new en(s,l,r)}}function nx(e,t){return e.replace(rx,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const rx=/\{\$([^}]+)}/g;function sx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Si(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],a=t[s];if(du(i)&&du(a)){if(!Si(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function du(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Nr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");t[decodeURIComponent(s)]=decodeURIComponent(i)}}),t}function Sr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ix(e,t){const n=new ox(e,t);return n.subscribe.bind(n)}class ox{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ax(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=jo),s.error===void 0&&(s.error=jo),s.complete===void 0&&(s.complete=jo);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ax(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function jo(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e){return e&&e._delegate?e._delegate:e}class nr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new K0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ux(t))try{this.getOrInitializeService({instanceIdentifier:cn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=cn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=cn){return this.instances.has(t)}getOptions(t=cn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&t(a,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=cn){return this.component?this.component.multipleInstances?t:cn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cx(e){return e===cn?void 0:e}function ux(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($||($={}));const fx={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},hx=$.INFO,px={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},mx=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=px[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class yh{constructor(t){this.name=t,this._logLevel=hx,this._logHandler=mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...t),this._logHandler(this,$.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...t),this._logHandler(this,$.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$.INFO,...t),this._logHandler(this,$.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$.WARN,...t),this._logHandler(this,$.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...t),this._logHandler(this,$.ERROR,...t)}}const gx=(e,t)=>t.some(n=>e instanceof n);let fu,hu;function xx(){return fu||(fu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yx(){return hu||(hu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vh=new WeakMap,Ia=new WeakMap,wh=new WeakMap,Eo=new WeakMap,Ml=new WeakMap;function vx(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{n(Gt(e.result)),s()},a=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&vh.set(n,e)}).catch(()=>{}),Ml.set(t,e),t}function wx(e){if(Ia.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Ia.set(e,t)}let Ta={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ia.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wh.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function bx(e){Ta=e(Ta)}function Nx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ko(this),t,...n);return wh.set(r,t.sort?t.sort():[t]),Gt(r)}:yx().includes(e)?function(...t){return e.apply(ko(this),t),Gt(vh.get(this))}:function(...t){return Gt(e.apply(ko(this),t))}}function Sx(e){return typeof e=="function"?Nx(e):(e instanceof IDBTransaction&&wx(e),gx(e,xx())?new Proxy(e,Ta):e)}function Gt(e){if(e instanceof IDBRequest)return vx(e);if(Eo.has(e))return Eo.get(e);const t=Sx(e);return t!==e&&(Eo.set(e,t),Ml.set(t,e)),t}const ko=e=>Ml.get(e);function _x(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),l=Gt(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Gt(a.result),c.oldVersion,c.newVersion,Gt(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const jx=["get","getKey","getAll","getAllKeys","count"],Ex=["put","add","delete","clear"],Co=new Map;function pu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Co.get(t))return Co.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Ex.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jx.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Co.set(t,i),i}bx(e=>({...e,get:(t,n,r)=>pu(t,n)||e.get(t,n,r),has:(t,n)=>!!pu(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Pa="@firebase/app",mu="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt=new yh("@firebase/app"),Ix="@firebase/app-compat",Tx="@firebase/analytics-compat",Px="@firebase/analytics",Rx="@firebase/app-check-compat",Ax="@firebase/app-check",Ox="@firebase/auth",Dx="@firebase/auth-compat",Lx="@firebase/database",Mx="@firebase/data-connect",Ux="@firebase/database-compat",Fx="@firebase/functions",zx="@firebase/functions-compat",Bx="@firebase/installations",$x="@firebase/installations-compat",Wx="@firebase/messaging",Hx="@firebase/messaging-compat",Vx="@firebase/performance",Gx="@firebase/performance-compat",Kx="@firebase/remote-config",Yx="@firebase/remote-config-compat",Xx="@firebase/storage",Qx="@firebase/storage-compat",Jx="@firebase/firestore",qx="@firebase/vertexai-preview",Zx="@firebase/firestore-compat",ey="firebase",ty="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]",ny={[Pa]:"fire-core",[Ix]:"fire-core-compat",[Px]:"fire-analytics",[Tx]:"fire-analytics-compat",[Ax]:"fire-app-check",[Rx]:"fire-app-check-compat",[Ox]:"fire-auth",[Dx]:"fire-auth-compat",[Lx]:"fire-rtdb",[Mx]:"fire-data-connect",[Ux]:"fire-rtdb-compat",[Fx]:"fire-fn",[zx]:"fire-fn-compat",[Bx]:"fire-iid",[$x]:"fire-iid-compat",[Wx]:"fire-fcm",[Hx]:"fire-fcm-compat",[Vx]:"fire-perf",[Gx]:"fire-perf-compat",[Kx]:"fire-rc",[Yx]:"fire-rc-compat",[Xx]:"fire-gcs",[Qx]:"fire-gcs-compat",[Jx]:"fire-fst",[Zx]:"fire-fst-compat",[qx]:"fire-vertex","fire-js":"fire-js",[ey]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Map,ry=new Map,Aa=new Map;function gu(e,t){try{e.container.addComponent(t)}catch(n){yt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zr(e){const t=e.name;if(Aa.has(t))return yt.debug(`There were multiple attempts to register component ${t}.`),!1;Aa.set(t,e);for(const n of _i.values())gu(n,e);for(const n of ry.values())gu(n,e);return!0}function bh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function et(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kt=new ls("app","Firebase",sy);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=ty;function Nh(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ra,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw Kt.create("bad-app-name",{appName:String(s)});if(n||(n=gh()),!n)throw Kt.create("no-options");const i=_i.get(s);if(i){if(Si(n,i.options)&&Si(r,i.config))return i;throw Kt.create("duplicate-app",{appName:s})}const a=new dx(s);for(const c of Aa.values())a.addComponent(c);const l=new iy(n,r,a);return _i.set(s,l),l}function oy(e=Ra){const t=_i.get(e);if(!t&&e===Ra&&gh())return Nh();if(!t)throw Kt.create("no-app",{appName:e});return t}function Vn(e,t,n){var r;let s=(r=ny[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${t}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yt.warn(l.join(" "));return}Zr(new nr(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="firebase-heartbeat-database",ly=1,es="firebase-heartbeat-store";let Io=null;function Sh(){return Io||(Io=_x(ay,ly,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(es)}catch(n){console.warn(n)}}}}).catch(e=>{throw Kt.create("idb-open",{originalErrorMessage:e.message})})),Io}async function cy(e){try{const n=(await Sh()).transaction(es),r=await n.objectStore(es).get(_h(e));return await n.done,r}catch(t){if(t instanceof en)yt.warn(t.message);else{const n=Kt.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yt.warn(n.message)}}}async function xu(e,t){try{const r=(await Sh()).transaction(es,"readwrite");await r.objectStore(es).put(t,_h(e)),await r.done}catch(n){if(n instanceof en)yt.warn(n.message);else{const r=Kt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yt.warn(r.message)}}}function _h(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=1024,dy=30*24*60*60*1e3;class fy{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new py(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=yu();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=dy}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yu(),{heartbeatsToSend:r,unsentEntries:s}=hy(this._heartbeatsCache.heartbeats),i=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return yt.warn(n),""}}}function yu(){return new Date().toISOString().substring(0,10)}function hy(e,t=uy){const n=[];let r=e.slice();for(const s of e){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),vu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),vu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class py{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z0()?ex().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cy(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return xu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return xu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function vu(e){return ph(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e){Zr(new nr("platform-logger",t=>new kx(t),"PRIVATE")),Zr(new nr("heartbeat",t=>new fy(t),"PRIVATE")),Vn(Pa,mu,e),Vn(Pa,mu,"esm2017"),Vn("fire-js","")}my("");function Ul(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function jh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gy=jh,Eh=new ls("auth","Firebase",jh());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new yh("@firebase/auth");function xy(e,...t){ji.logLevel<=$.WARN&&ji.warn(`Auth (${us}): ${e}`,...t)}function Ys(e,...t){ji.logLevel<=$.ERROR&&ji.error(`Auth (${us}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e,...t){throw Fl(e,...t)}function rt(e,...t){return Fl(e,...t)}function kh(e,t,n){const r=Object.assign(Object.assign({},gy()),{[t]:n});return new ls("auth","Firebase",r).create(t,{appName:e.name})}function ht(e){return kh(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fl(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Eh.create(e,...t)}function A(e,t,...n){if(!e)throw Fl(t,...n)}function ct(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ys(t),new Error(t)}function vt(e,t){e||ct(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function yy(){return wu()==="http:"||wu()==="https:"}function wu(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yy()||Q0()||"connection"in navigator)?navigator.onLine:!0}function wy(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,n){this.shortDelay=t,this.longDelay=n,vt(n>t,"Short delay should be less than long delay!"),this.isMobile=Y0()||J0()}get(){return vy()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e,t){vt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new ds(3e4,6e4);function tn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function nn(e,t,n,r,s={}){return Ih(e,s,async()=>{let i={},a={};r&&(t==="GET"?a=r:i={body:JSON.stringify(r)});const l=cs(Object.assign({key:e.config.apiKey},a)).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:c},i);return X0()||(u.referrerPolicy="no-referrer"),Ch.fetch()(Th(e,e.config.apiHost,n,l),u)})}async function Ih(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},by),t);try{const s=new _y(e),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw As(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw As(e,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw As(e,"email-already-in-use",a);if(c==="USER_DISABLED")throw As(e,"user-disabled",a);const m=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kh(e,m,u);Xe(e,m)}}catch(s){if(s instanceof en)throw s;Xe(e,"network-request-failed",{message:String(s)})}}async function fs(e,t,n,r,s={}){const i=await nn(e,t,n,r,s);return"mfaPendingCredential"in i&&Xe(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Th(e,t,n,r){const s=`${t}${n}?${r}`;return e.config.emulator?zl(e.config,s):`${e.config.apiScheme}://${s}`}function Sy(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _y{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rt(this.auth,"network-request-failed")),Ny.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function As(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rt(e,t,r);return s.customData._tokenResponse=n,s}function bu(e){return e!==void 0&&e.enterprise!==void 0}class jy{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Sy(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function Ey(e,t){return nn(e,"GET","/v2/recaptchaConfig",tn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ky(e,t){return nn(e,"POST","/v1/accounts:delete",t)}async function Ph(e,t){return nn(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Cy(e,t=!1){const n=Nt(e),r=await n.getIdToken(t),s=Bl(r);A(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ar(To(s.auth_time)),issuedAtTime:Ar(To(s.iat)),expirationTime:Ar(To(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function To(e){return Number(e)*1e3}function Bl(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ys("JWT malformed, contained fewer than 3 sections"),null;try{const s=mh(n);return s?JSON.parse(s):(Ys("Failed to decode base64 JWT payload"),null)}catch(s){return Ys("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Nu(e){const t=Bl(e);return A(t,"internal-error"),A(typeof t.exp<"u","internal-error"),A(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof en&&Iy(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Iy({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(e){var t;const n=e.auth,r=await e.getIdToken(),s=await ts(e,Ph(n,{idToken:r}));A(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=!((t=i.providerUserInfo)===null||t===void 0)&&t.length?Rh(i.providerUserInfo):[],l=Ry(e.providerData,a),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(l!=null&&l.length),m=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Da(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(e,p)}async function Py(e){const t=Nt(e);await Ei(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ry(e,t){return[...e.filter(r=>!t.some(s=>s.providerId===r.providerId)),...t]}function Rh(e){return e.map(t=>{var{providerId:n}=t,r=Ul(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ay(e,t){const n=await Ih(e,{},async()=>{const r=cs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=e.config,a=Th(e,s,"/v1/token",`key=${i}`),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Ch.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Oy(e,t){return nn(e,"POST","/v2/accounts:revokeToken",tn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){A(t.idToken,"internal-error"),A(typeof t.idToken<"u","internal-error"),A(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nu(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){A(t.length!==0,"internal-error");const n=Nu(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(A(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Ay(t,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Gn;return r&&(A(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),s&&(A(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(A(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gn,this.toJSON())}_performRefresh(){return ct("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t){A(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ut{constructor(t){var{uid:n,auth:r,stsTokenManager:s}=t,i=Ul(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ty(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Da(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await ts(this,this.stsTokenManager.getToken(this.auth,t));return A(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Cy(this,t)}reload(){return Py(this)}_assign(t){this!==t&&(A(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ut(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Ei(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(et(this.auth.app))return Promise.reject(ht(this.auth));const t=await this.getIdToken();return await ts(this,ky(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,s,i,a,l,c,u,m;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,b=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,h=(u=n.createdAt)!==null&&u!==void 0?u:void 0,d=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:f,emailVerified:x,isAnonymous:S,providerData:E,stsTokenManager:_}=n;A(f&&_,t,"internal-error");const C=Gn.fromJSON(this.name,_);A(typeof f=="string",t,"internal-error"),jt(p,t.name),jt(g,t.name),A(typeof x=="boolean",t,"internal-error"),A(typeof S=="boolean",t,"internal-error"),jt(b,t.name),jt(w,t.name),jt(v,t.name),jt(N,t.name),jt(h,t.name),jt(d,t.name);const j=new ut({uid:f,auth:t,email:g,emailVerified:x,displayName:p,isAnonymous:S,photoURL:w,phoneNumber:b,tenantId:v,stsTokenManager:C,createdAt:h,lastLoginAt:d});return E&&Array.isArray(E)&&(j.providerData=E.map(I=>Object.assign({},I))),N&&(j._redirectEventId=N),j}static async _fromIdTokenResponse(t,n,r=!1){const s=new Gn;s.updateFromServerResponse(n);const i=new ut({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:r});return await Ei(i),i}static async _fromGetAccountInfoResponse(t,n,r){const s=n.users[0];A(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Rh(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Gn;l.updateFromIdToken(r);const c=new ut({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Da(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map;function dt(e){vt(e instanceof Function,"Expected a class definition");let t=Su.get(e);return t?(vt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Su.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Ah.type="NONE";const _u=Ah;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(e,t,n){return`firebase:${e}:${t}:${n}`}class Kn{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xs(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xs("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ut._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Kn(dt(_u),t,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||dt(_u);const a=Xs(r,t.config.apiKey,t.name);let l=null;for(const u of n)try{const m=await u._get(a);if(m){const p=ut._fromJSON(t,m);u!==i&&(l=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Kn(i,t,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Kn(i,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oh(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fh(t))return"Blackberry";if(zh(t))return"Webos";if(Dh(t))return"Safari";if((t.includes("chrome/")||Lh(t))&&!t.includes("edge/"))return"Chrome";if(Uh(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Oh(e=we()){return/firefox\//i.test(e)}function Dh(e=we()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Lh(e=we()){return/crios\//i.test(e)}function Mh(e=we()){return/iemobile/i.test(e)}function Uh(e=we()){return/android/i.test(e)}function Fh(e=we()){return/blackberry/i.test(e)}function zh(e=we()){return/webos/i.test(e)}function $l(e=we()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dy(e=we()){var t;return $l(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ly(){return q0()&&document.documentMode===10}function Bh(e=we()){return $l(e)||Uh(e)||zh(e)||Fh(e)||/windows phone/i.test(e)||Mh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(e,t=[]){let n;switch(e){case"Browser":n=ju(we());break;case"Worker":n=`${ju(we())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=i=>new Promise((a,l)=>{try{const c=t(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uy(e,t={}){return nn(e,"GET","/v2/passwordPolicy",tn(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=6;class zy{constructor(t){var n,r,s,i;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Fy,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=t.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<t.length;s++)r=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(t,n,r,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eu(this),this.idTokenSubscription=new Eu(this),this.beforeStateQueue=new My(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Eh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=dt(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Kn.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ph(this,{idToken:t}),r=await ut._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(et(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ei(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wy()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(et(this.app))return Promise.reject(ht(this));const n=t?Nt(t):null;return n&&A(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&A(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return et(this.app)?Promise.reject(ht(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return et(this.app)?Promise.reject(ht(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dt(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Uy(this),n=new zy(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ls("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Oy(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&dt(t)||this._popupRedirectResolver;A(n,this,"argument-error"),this.redirectPersistenceManager=await Kn.create(this,[dt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=t.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=t.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$h(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&xy(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function _n(e){return Nt(e)}class Eu{constructor(t){this.auth=t,this.observer=null,this.addObserver=ix(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $y(e){Ki=e}function Wh(e){return Ki.loadJS(e)}function Wy(){return Ki.recaptchaEnterpriseScript}function Hy(){return Ki.gapiScript}function Vy(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const Gy="recaptcha-enterprise",Ky="NO_RECAPTCHA";class Yy{constructor(t){this.type=Gy,this.auth=_n(t)}async verify(t="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{Ey(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new jy(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;bu(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:t}).then(u=>{a(u)}).catch(()=>{a(Ky)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&bu(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Wy();c.length!==0&&(c+=l),Wh(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function ku(e,t,n,r=!1){const s=new Yy(e);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function La(e,t,n,r){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ku(e,t,n,n==="getOobCode");return r(e,i)}else return r(e,t).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ku(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(e,t){const n=bh(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Si(i,t??{}))return s;Xe(s,"already-initialized")}return n.initialize({options:t})}function Qy(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dt);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Jy(e,t,n){const r=_n(e);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!1,i=Hh(t),{host:a,port:l}=qy(t),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Zy()}function Hh(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qy(e){const t=Hh(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Cu(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Cu(a)}}}function Cu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Zy(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ct("not implemented")}_getIdTokenResponse(t){return ct("not implemented")}_linkToIdToken(t,n){return ct("not implemented")}_getReauthenticationResolver(t){return ct("not implemented")}}async function ev(e,t){return nn(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tv(e,t){return fs(e,"POST","/v1/accounts:signInWithPassword",tn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(e,t){return fs(e,"POST","/v1/accounts:signInWithEmailLink",tn(e,t))}async function rv(e,t){return fs(e,"POST","/v1/accounts:signInWithEmailLink",tn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Wl{constructor(t,n,r,s=null){super("password",r),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new ns(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ns(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return La(t,n,"signInWithPassword",tv);case"emailLink":return nv(t,{email:this._email,oobCode:this._password});default:Xe(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return La(t,r,"signUpPassword",ev);case"emailLink":return rv(t,{idToken:n,email:this._email,oobCode:this._password});default:Xe(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yn(e,t){return fs(e,"POST","/v1/accounts:signInWithIdp",tn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="http://localhost";class wn extends Wl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new wn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xe("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:s}=n,i=Ul(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new wn(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Yn(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Yn(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Yn(t,n)}buildRequest(){const t={requestUri:sv,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=cs(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ov(e){const t=Nr(Sr(e)).link,n=t?Nr(Sr(t)).deep_link_id:null,r=Nr(Sr(e)).deep_link_id;return(r?Nr(Sr(r)).link:null)||r||n||t||e}class Hl{constructor(t){var n,r,s,i,a,l;const c=Nr(Sr(t)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,m=(r=c.oobCode)!==null&&r!==void 0?r:null,p=iv((s=c.mode)!==null&&s!==void 0?s:null);A(u&&m&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=m,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(t){const n=ov(t);try{return new Hl(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.providerId=cr.PROVIDER_ID}static credential(t,n){return ns._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Hl.parseLink(n);return A(r,"argument-error"),ns._fromEmailAndCode(t,r.code,r.tenantId)}}cr.PROVIDER_ID="password";cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Vh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends hs{constructor(){super("facebook.com")}static credential(t){return wn._fromParams({providerId:Tt.PROVIDER_ID,signInMethod:Tt.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tt.credentialFromTaggedObject(t)}static credentialFromError(t){return Tt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tt.credential(t.oauthAccessToken)}catch{return null}}}Tt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tt.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt extends hs{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return wn._fromParams({providerId:Pt.PROVIDER_ID,signInMethod:Pt.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pt.credentialFromTaggedObject(t)}static credentialFromError(t){return Pt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Pt.credential(n,r)}catch{return null}}}Pt.GOOGLE_SIGN_IN_METHOD="google.com";Pt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends hs{constructor(){super("github.com")}static credential(t){return wn._fromParams({providerId:Rt.PROVIDER_ID,signInMethod:Rt.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rt.credentialFromTaggedObject(t)}static credentialFromError(t){return Rt.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rt.credential(t.oauthAccessToken)}catch{return null}}}Rt.GITHUB_SIGN_IN_METHOD="github.com";Rt.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At extends hs{constructor(){super("twitter.com")}static credential(t,n){return wn._fromParams({providerId:At.PROVIDER_ID,signInMethod:At.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return At.credentialFromTaggedObject(t)}static credentialFromError(t){return At.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return At.credential(n,r)}catch{return null}}}At.TWITTER_SIGN_IN_METHOD="twitter.com";At.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function av(e,t){return fs(e,"POST","/v1/accounts:signUp",tn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,s=!1){const i=await ut._fromIdTokenResponse(t,r,s),a=Iu(r);return new bn({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const s=Iu(r);return new bn({user:t,providerId:s,_tokenResponse:r,operationType:n})}}function Iu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends en{constructor(t,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ki.prototype),this.customData={appName:t.name,tenantId:(i=t.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,s){return new ki(t,n,r,s)}}function Gh(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ki._fromErrorAndOperation(e,i,t,r):i})}async function lv(e,t,n=!1){const r=await ts(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bn._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(e,t,n=!1){const{auth:r}=e;if(et(r.app))return Promise.reject(ht(r));const s="reauthenticate";try{const i=await ts(e,Gh(r,s,t,e),n);A(i.idToken,r,"internal-error");const a=Bl(i.idToken);A(a,r,"internal-error");const{sub:l}=a;return A(e.uid===l,r,"user-mismatch"),bn._forOperation(e,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xe(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(e,t,n=!1){if(et(e.app))return Promise.reject(ht(e));const r="signIn",s=await Gh(e,r,t),i=await bn._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function uv(e,t){return Kh(_n(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(e){const t=_n(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dv(e,t,n){if(et(e.app))return Promise.reject(ht(e));const r=_n(e),a=await La(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",av).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Yh(e),c}),l=await bn._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function fv(e,t,n){return et(e.app)?Promise.reject(ht(e)):uv(Nt(e),cr.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yh(e),r})}function hv(e,t,n,r){return Nt(e).onIdTokenChanged(t,n,r)}function pv(e,t,n){return Nt(e).beforeAuthStateChanged(t,n)}function mv(e,t,n,r){return Nt(e).onAuthStateChanged(t,n,r)}function gv(e){return Nt(e).signOut()}const Ci="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ci,"1"),this.storage.removeItem(Ci),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=1e3,yv=10;class Qh extends Xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bh(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&t(n,s,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Ly()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,yv):s()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},xv)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Qh.type="LOCAL";const vv=Qh;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Jh.type="SESSION";const qh=Jh;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const r=new Yi(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await wv(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yi.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=Vl("",20);s.port1.start();const m=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(m),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return window}function Nv(e){st().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(){return typeof st().WorkerGlobalScope<"u"&&typeof st().importScripts=="function"}async function Sv(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _v(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function jv(){return Zh()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="firebaseLocalStorageDb",Ev=1,Ii="firebaseLocalStorage",tp="fbase_key";class ps{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xi(e,t){return e.transaction([Ii],t?"readwrite":"readonly").objectStore(Ii)}function kv(){const e=indexedDB.deleteDatabase(ep);return new ps(e).toPromise()}function Ma(){const e=indexedDB.open(ep,Ev);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Ii,{keyPath:tp})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Ii)?t(r):(r.close(),await kv(),t(await Ma()))})})}async function Tu(e,t,n){const r=Xi(e,!0).put({[tp]:t,value:n});return new ps(r).toPromise()}async function Cv(e,t){const n=Xi(e,!1).get(t),r=await new ps(n).toPromise();return r===void 0?null:r.value}function Pu(e,t){const n=Xi(e,!0).delete(t);return new ps(n).toPromise()}const Iv=800,Tv=3;class np{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ma(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Tv)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yi._getInstance(jv()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Sv(),!this.activeServiceWorker)return;this.sender=new bv(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_v()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ma();return await Tu(t,Ci,"1"),await Pu(t,Ci),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tu(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Cv(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pu(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Xi(s,!1).getAll();return new ps(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Iv)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}np.type="LOCAL";const Pv=np;new ds(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(e,t){return t?dt(t):(A(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Wl{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Yn(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Yn(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Yn(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Av(e){return Kh(e.auth,new Gl(e),e.bypassAuthState)}function Ov(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),cv(n,new Gl(e),e.bypassAuthState)}async function Dv(e){const{auth:t,user:n}=e;return A(n,t,"internal-error"),lv(n,new Gl(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,n,r,s,i=!1){this.auth=t,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Av;case"linkViaPopup":case"linkViaRedirect":return Dv;case"reauthViaPopup":case"reauthViaRedirect":return Ov;default:Xe(this.auth,"internal-error")}}resolve(t){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new ds(2e3,1e4);class Un extends rp{constructor(t,n,r,s,i){super(t,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Un.currentPopupAction&&Un.currentPopupAction.cancel(),Un.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return A(t,this.auth,"internal-error"),t}async onExecution(){vt(this.filter.length===1,"Popup operations only handle one event");const t=Vl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Un.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lv.get())};t()}}Un.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="pendingRedirect",Qs=new Map;class Uv extends rp{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Qs.get(this.auth._key());if(!t){try{const r=await Fv(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Qs.set(this.auth._key(),t)}return this.bypassAuthState||Qs.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fv(e,t){const n=$v(t),r=Bv(e);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zv(e,t){Qs.set(e._key(),t)}function Bv(e){return dt(e._redirectPersistence)}function $v(e){return Xs(Mv,e.config.apiKey,e.name)}async function Wv(e,t,n=!1){if(et(e.app))return Promise.reject(ht(e));const r=_n(e),s=Rv(r,t),a=await new Uv(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=10*60*1e3;class Vv{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Gv(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!sp(t)){const s=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rt(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Hv&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ru(t))}saveEventToCache(t){this.cachedEventUids.add(Ru(t)),this.lastProcessedEventTime=Date.now()}}function Ru(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function sp({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Gv(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sp(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(e,t={}){return nn(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xv=/^https?/;async function Qv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Kv(e);for(const n of t)try{if(Jv(n))return}catch{}Xe(e,"unauthorized-domain")}function Jv(e){const t=Oa(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Xv.test(n))return!1;if(Yv.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new ds(3e4,6e4);function Au(){const e=st().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Zv(e){return new Promise((t,n)=>{var r,s,i;function a(){Au(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Au(),n(rt(e,"network-request-failed"))},timeout:qv.get()})}if(!((s=(r=st().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((i=st().gapi)===null||i===void 0)&&i.load)a();else{const l=Vy("iframefcb");return st()[l]=()=>{gapi.load?a():n(rt(e,"network-request-failed"))},Wh(`${Hy()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Js=null,t})}let Js=null;function ew(e){return Js=Js||Zv(e),Js}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new ds(5e3,15e3),nw="__/auth/iframe",rw="emulator/auth/iframe",sw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ow(e){const t=e.config;A(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zl(t,rw):`https://${e.config.authDomain}/${nw}`,r={apiKey:t.apiKey,appName:e.name,v:us},s=iw.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${cs(r).slice(1)}`}async function aw(e){const t=await ew(e),n=st().gapi;return A(n,e,"internal-error"),t.open({where:document.body,url:ow(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sw,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=rt(e,"network-request-failed"),l=st().setTimeout(()=>{i(a)},tw.get());function c(){st().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw=500,uw=600,dw="_blank",fw="http://localhost";class Ou{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hw(e,t,n,r=cw,s=uw){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},lw),{width:r.toString(),height:s.toString(),top:i,left:a}),u=we().toLowerCase();n&&(l=Lh(u)?dw:n),Oh(u)&&(t=t||fw,c.scrollbars="yes");const m=Object.entries(c).reduce((g,[b,w])=>`${g}${b}=${w},`,"");if(Dy(u)&&l!=="_self")return pw(t||"",l),new Ou(null);const p=window.open(t||"",l,m);A(p,e,"popup-blocked");try{p.focus()}catch{}return new Ou(p)}function pw(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="__/auth/handler",gw="emulator/auth/handler",xw=encodeURIComponent("fac");async function Du(e,t,n,r,s,i){A(e.config.authDomain,e,"auth-domain-config-required"),A(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:us,eventId:s};if(t instanceof Vh){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",sx(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,p]of Object.entries({}))a[m]=p}if(t instanceof hs){const m=t.getScopes().filter(p=>p!=="");m.length>0&&(a.scopes=m.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const m of Object.keys(l))l[m]===void 0&&delete l[m];const c=await e._getAppCheckToken(),u=c?`#${xw}=${encodeURIComponent(c)}`:"";return`${yw(e)}?${cs(l).slice(1)}${u}`}function yw({config:e}){return e.emulator?zl(e,gw):`https://${e.authDomain}/${mw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="webStorageSupport";class vw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qh,this._completeRedirectFn=Wv,this._overrideRedirectResult=zv}async _openPopup(t,n,r,s){var i;vt((i=this.eventManagers[t._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await Du(t,n,r,Oa(),s);return hw(t,a,Vl())}async _openRedirect(t,n,r,s){await this._originValidation(t);const i=await Du(t,n,r,Oa(),s);return Nv(i),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(vt(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await aw(t),r=new Vv(t);return n.register("authEvent",s=>(A(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Po,{type:Po},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Po];a!==void 0&&n(!!a),Xe(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qv(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bh()||Dh()||$l()}}const ww=vw;var Lu="@firebase/auth",Mu="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sw(e){Zr(new nr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;A(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$h(e)},u=new By(r,s,i,c);return Qy(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Zr(new nr("auth-internal",t=>{const n=_n(t.getProvider("auth").getImmediate());return(r=>new bw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(Lu,Mu,Nw(e)),Vn(Lu,Mu,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=5*60,jw=xh("authIdTokenMaxAge")||_w;let Uu=null;const Ew=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jw)return;const s=n==null?void 0:n.token;Uu!==s&&(Uu=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kw(e=oy()){const t=bh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Xy(e,{popupRedirectResolver:ww,persistence:[Pv,vv,qh]}),r=xh("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=Ew(i.toString());pv(n,a,()=>a(n.currentUser)),hv(n,l=>a(l))}}const s=G0("auth");return s&&Jy(n,`http://${s}`),n}function Cw(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}$y({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=s=>{const i=rt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Cw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sw("Browser");var Iw="firebase",Tw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(Iw,Tw,"app");const Pw={apiKey:"AIzaSyBOTmW9xUBnZexOCd9Vj24E5ZK3bDCVJKM",authDomain:"ai-comic-log-in.firebaseapp.com",projectId:"ai-comic-log-in",storageBucket:"ai-comic-log-in.firebasestorage.app",messagingSenderId:"450500310997",appId:"1:450500310997:web:969fcb764f2d8b21b42f5c",measurementId:"G-E715R7R97L"},Rw=Nh(Pw),Os=kw(Rw),q="https://panelx-backend-production.up.railway.app";fetch(`${q}/api/series/all`);const ip=y.createContext();function Be(){return y.useContext(ip)}function Aw({children:e}){const[t,n]=y.useState(null),[r,s]=y.useState(null),[i,a]=y.useState(!0),l=async v=>{try{const h=await(await fetch(`${q}/api/users/${v}`)).json();return h.success?(s(h.user),h.user):null}catch(N){return console.error("Error fetching user profile:",N),null}},c=async(v,N,h)=>{try{const f=await(await fetch("http://localhost:8000/api/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:v,email:N,role:h,created_at:new Date().toISOString()})})).json();return f.success?(s(f.user),f.user):null}catch(d){return console.error("Error creating user profile:",d),null}},u=async(v,N)=>{try{const h=String(v).trim(),d=String(N).trim();return(await dv(Os,h,d)).user}catch(h){throw console.error("Signup error:",h),h}},m=async(v,N)=>{try{const h=String(v).trim(),d=String(N).trim();return console.log("Login attempt:",{email:h,passwordType:typeof d}),(await fv(Os,h,d)).user}catch(h){throw console.error("Login error:",h),h}},p=async()=>{try{await gv(Os),n(null),s(null)}catch(v){throw console.error("Logout error:",v),v}},g=async v=>{if(!t)return null;try{const h=await(await fetch(`http://localhost:8000/api/users/${t.uid}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).json();return h.success?(s(h.user),h.user):null}catch(N){return console.error("Error updating profile:",N),null}},b=async v=>{if(!t)return null;try{const N=new FormData;N.append("file",v);const d=await(await fetch(`http://localhost:8000/api/users/${t.uid}/avatar`,{method:"POST",body:N})).json();return d.success?(s(d.user),d.user):null}catch(N){return console.error("Error uploading avatar:",N),null}};y.useEffect(()=>mv(Os,async N=>{console.log("Auth state changed:",N?"User logged in":"No user"),N?(n(N),await l(N.uid)||console.log("No profile found - user needs to select role")):(n(null),s(null)),a(!1)}),[]);const w={user:t,userProfile:r,loading:i,signup:u,login:m,logout:p,createUserProfile:c,fetchUserProfile:l,updateProfile:g,uploadAvatar:b};return o.jsx(ip.Provider,{value:w,children:!i&&e})}function Fu(){const e=he();return o.jsxs("div",{className:"relative min-h-screen bg-[#0B0B0B] text-white overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-[10%] left-[20%] w-[400px] h-[400px] bg-green-400/20 blur-[160px]"}),o.jsx("div",{className:"absolute bottom-[15%] right-[10%] w-[400px] h-[400px] bg-yellow-300/20 blur-[180px]"}),o.jsx("div",{className:"absolute inset-0 bg-white/5 backdrop-blur-3xl"})]}),o.jsxs("nav",{className:"relative z-10 flex justify-between items-center px-12 py-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-[#F2C94C]",children:"PanelX"}),o.jsxs("div",{className:"space-x-8 text-gray-300",children:[o.jsx("a",{href:"#",className:"hover:text-[#F2C94C] transition",children:"Features"}),o.jsx("a",{href:"#",className:"hover:text-[#F2C94C] transition",children:"Pricing"}),o.jsx("a",{href:"#",className:"hover:text-[#F2C94C] transition",children:"Creators"})]}),o.jsx("button",{onClick:()=>e("/login"),className:"px-5 py-2 rounded-full border border-[#F2C94C] text-[#F2C94C] hover:bg-[#F2C94C] hover:text-black transition",children:"Login"})]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center mt-32 px-4",children:[o.jsxs("h2",{className:"text-5xl md:text-7xl font-semibold leading-tight",children:["Create Stunning Comics, ",o.jsx("br",{}),"Effortlessly Powered by AI"]}),o.jsx("p",{className:"mt-6 max-w-2xl text-gray-300 text-lg",children:"Transform your ideas into beautiful manga, manhwa, or western-style panels with one click."}),o.jsxs("div",{className:"mt-10 space-x-4",children:[o.jsx("button",{onClick:()=>e("/login"),className:"px-8 py-3 rounded-full bg-[#00A676] hover:bg-[#00895F] transition text-black font-semibold",children:"Start Creating"}),o.jsx("button",{className:"px-8 py-3 rounded-full border border-[#F2C94C] text-[#F2C94C] hover:bg-[#F2C94C] hover:text-black transition font-semibold",children:"Learn More"})]})]})]})}function Ow(){const[e,t]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[a,l]=y.useState(!1),[c,u]=y.useState(""),{login:m,fetchUserProfile:p}=Be(),g=he(),b=async w=>{w.preventDefault();try{i(""),u(""),l(!0),u("Step 1: Attempting Firebase login...");const v=await m(e,n);u("Step 2: Firebase login successful! UID: "+v.uid),console.log("Firebase login successful:",v.uid),u("Step 3: Fetching user profile...");const N=await p(v.uid);u("Step 4: Profile fetched: "+JSON.stringify(N)),N?(u("Step 5: Navigating based on role: "+N.role),N.role==="creator"?g("/creator-dashboard"):N.role==="reader"?g("/reader-home"):g("/")):(u("Step 5: No profile found, going to role selection"),g("/role-selection"))}catch(v){console.error("Login error FULL:",v),u("ERROR: "+v.code+" - "+v.message),v.code==="auth/user-not-found"?i("No account found with this email"):v.code==="auth/wrong-password"?i("Incorrect password"):v.code==="auth/invalid-email"?i("Invalid email address"):v.code==="auth/user-disabled"?i("This account has been disabled"):v.code==="auth/invalid-credential"?i("Invalid email or password"):i(`Failed to log in: ${v.message}`)}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#00A676] flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:" PanelX"}),o.jsx("p",{className:"text-gray-400",children:"Welcome back!"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl border-2 border-gray-700 p-8 shadow-xl",children:[s&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-400 text-sm",children:s}),c&&o.jsxs("div",{className:"mb-4 p-3 bg-blue-500/20 border border-blue-500 rounded-lg text-blue-400 text-xs",children:["DEBUG: ",c]}),o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:e,onChange:w=>t(w.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border-2 border-gray-600 focus:border-yellow-500 focus:outline-none",placeholder:"you@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:w=>r(w.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border-2 border-gray-600 focus:border-yellow-500 focus:outline-none",placeholder:""})]}),o.jsx("div",{className:"text-right",children:o.jsx("a",{href:"#",className:"text-yellow-400 hover:text-yellow-300 text-sm",children:"Forgot password?"})}),o.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 disabled:from-gray-600 disabled:to-gray-700 text-gray-900 font-bold rounded-lg transition-all disabled:cursor-not-allowed",children:a?"Logging In...":"Log In"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-400 text-sm",children:["Don't have an account?"," ",o.jsx(Ue,{to:"/signup",className:"text-yellow-400 hover:text-yellow-300 font-semibold",children:"Sign Up"})]})})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx(Ue,{to:"/",className:"text-gray-400 hover:text-white text-sm transition-colors",children:" Back to Home"})})]})})}function Dw(){const[e,t]=y.useState(""),[n,r]=y.useState(""),[s,i]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!1),{signup:m}=Be(),p=he(),g=async b=>{if(b.preventDefault(),n!==s)return l("Passwords do not match");if(n.length<6)return l("Password must be at least 6 characters");try{l(""),u(!0),await m(e,n),p("/role-selection")}catch(w){console.error("Signup error:",w),w.code==="auth/email-already-in-use"?l("Email already in use. Please login instead."):w.code==="auth/invalid-email"?l("Invalid email address"):w.code==="auth/weak-password"?l("Password is too weak"):l("Failed to create account. Please try again.")}finally{u(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#00A676] flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:" PanelX"}),o.jsx("p",{className:"text-gray-400",children:"Create your account"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl border-2 border-gray-700 p-8 shadow-xl",children:[a&&o.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-400 text-sm",children:a}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:e,onChange:b=>t(b.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border-2 border-gray-600 focus:border-yellow-500 focus:outline-none",placeholder:"you@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Password"}),o.jsx("input",{type:"password",value:n,onChange:b=>r(b.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border-2 border-gray-600 focus:border-yellow-500 focus:outline-none",placeholder:""}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"At least 6 characters"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-gray-400 text-sm mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:s,onChange:b=>i(b.target.value),required:!0,className:"w-full px-4 py-3 bg-gray-700 text-white rounded-lg border-2 border-gray-600 focus:border-yellow-500 focus:outline-none",placeholder:""})]}),o.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 disabled:from-gray-600 disabled:to-gray-700 text-gray-900 font-bold rounded-lg transition-all disabled:cursor-not-allowed transform hover:scale-105",children:c?"Creating Account...":"Sign Up"})]}),o.jsxs("p",{className:"text-gray-500 text-xs text-center mt-4",children:["By signing up, you agree to our"," ",o.jsx("a",{href:"/terms",className:"text-yellow-400 hover:underline",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"/privacy",className:"text-yellow-400 hover:underline",children:"Privacy Policy"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-400 text-sm",children:["Already have an account?"," ",o.jsx(Ue,{to:"/login",className:"text-yellow-400 hover:text-yellow-300 font-semibold",children:"Log In"})]})})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx(Ue,{to:"/",className:"text-gray-400 hover:text-white text-sm transition-colors",children:" Back to Home"})})]})})}function Lw(){const[e,t]=y.useState(null),[n,r]=y.useState(!1),s=he(),{user:i,createUserProfile:a}=Be(),l=async()=>{if(!e){alert("Please select a role!");return}r(!0);try{await a(i.uid,i.email,e)?s(e==="creator"?"/creator-welcome":"/reader-dashboard"):alert("Failed to create profile. Please try again.")}catch(c){console.error("Error selecting role:",c),alert("An error occurred. Please try again.")}finally{r(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#00A676] flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-4xl w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Welcome to PanelX! "}),o.jsx("p",{className:"text-gray-400",children:"Choose your role to continue"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsx("div",{onClick:()=>t("creator"),className:`bg-gray-800 rounded-xl p-8 border-4 cursor-pointer transition-all transform hover:scale-105 ${e==="creator"?"border-yellow-500 shadow-xl shadow-yellow-500/50":"border-gray-700 hover:border-yellow-500/50"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Creator"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Create amazing comics with AI assistance"}),o.jsxs("div",{className:"space-y-2 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"AI-powered image generation"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Panel editor & dialogue tools"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Publish your comics"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Creator dashboard"})]})]})]})}),o.jsx("div",{onClick:()=>t("reader"),className:`bg-gray-800 rounded-xl p-8 border-4 cursor-pointer transition-all transform hover:scale-105 ${e==="reader"?"border-yellow-500 shadow-xl shadow-yellow-500/50":"border-gray-700 hover:border-yellow-500/50"}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reader"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Discover and read amazing comics"}),o.jsxs("div",{className:"space-y-2 text-left",children:[o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Browse comic library"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Track reading progress"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Bookmark favorites"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-sm",children:"Personalized recommendations"})]})]})]})})]}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("button",{onClick:l,disabled:!e||n,className:"px-8 py-4 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-400 hover:to-yellow-500 disabled:from-gray-600 disabled:to-gray-700 text-gray-900 font-bold text-lg rounded-lg transition-all disabled:cursor-not-allowed transform hover:scale-105",children:n?"Setting up...":"Continue"}),e&&o.jsxs("p",{className:"mt-4 text-gray-400 text-sm",children:["You selected: ",o.jsx("span",{className:"text-white font-bold",children:e==="creator"?" Creator":" Reader"})]})]})]})})}function Mw(){const[e,t]=y.useState(!1),{user:n,userProfile:r,logout:s}=Be(),i=y.useRef(null),a=he();y.useEffect(()=>{function m(p){i.current&&!i.current.contains(p.target)&&t(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const l=()=>{s(),a("/login")},c=()=>r!=null&&r.username?r.username.charAt(0).toUpperCase():n!=null&&n.email?n.email.charAt(0).toUpperCase():"U",u=()=>(r==null?void 0:r.username)||(n==null?void 0:n.email)||"User";return o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[r!=null&&r.avatar_url?o.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover border-2 border-yellow-500"}):o.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center font-bold text-gray-900 border-2 border-yellow-500",children:c()}),o.jsx("span",{className:"hidden md:block text-sm text-white max-w-[150px] truncate",children:u()}),o.jsx("svg",{className:`w-4 h-4 text-white transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 border-2 border-yellow-500 rounded-lg shadow-xl z-50",children:[o.jsxs("div",{className:"p-4 border-b border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[r!=null&&r.avatar_url?o.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-yellow-500"}):o.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center font-bold text-gray-900 text-xl border-2 border-yellow-500",children:c()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:u()}),o.jsx("p",{className:"text-gray-400 text-xs",children:(r==null?void 0:r.role)==="creator"?" Creator":" Reader"})]})]}),(r==null?void 0:r.bio)&&o.jsx("p",{className:"mt-2 text-gray-400 text-xs line-clamp-2",children:r.bio})]}),o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>{t(!1),a("/profile-settings")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Profile Settings"})]}),o.jsxs("button",{onClick:()=>{t(!1),a((r==null?void 0:r.role)==="creator"?"/creator-dashboard":"/reader-dashboard")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Dashboard"})]}),(r==null?void 0:r.role)==="creator"&&o.jsxs("button",{onClick:()=>{t(!1),a("/creator-studio")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Studio"})]}),(r==null?void 0:r.role)==="reader"&&o.jsxs("button",{onClick:()=>{t(!1),a("/reader-home")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Library"})]}),o.jsx("div",{className:"border-t border-gray-700 my-2"}),o.jsxs("button",{onClick:l,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Logout"})]})]})]})]})}function Uw(){const{user:e,userProfile:t}=Be(),n=he(),[r,s]=y.useState([]),[i,a]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(""),[p,g]=y.useState("All"),b=["All","Action","Fantasy","Romance","Sci-Fi","Horror","Comedy","Drama","Adventure","Mystery","Slice of Life"];y.useEffect(()=>{w()},[]);const w=async()=>{try{const[d,f]=await Promise.all([fetch(`${q}/api/series/all`),fetch(`${q}/api/series/trending`)]),x=await d.json(),S=await f.json();x.success&&s(x.series),S.success&&a(S.series)}catch(d){console.error("Error fetching series:",d)}finally{c(!1)}},v=r.filter(d=>{var S;const f=p==="All"||((S=d.genre)==null?void 0:S.includes(p)),x=!u||d.title.toLowerCase().includes(u.toLowerCase());return f&&x}),N=({s:d,size:f="normal"})=>o.jsxs("div",{onClick:()=>n(`/reader/comic/${d.id}`),className:`group relative bg-gray-900/80 border border-gray-700 hover:border-yellow-500/60 rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-xl hover:shadow-yellow-500/10 ${f==="large"?"col-span-2":""}`,children:[o.jsxs("div",{className:`relative bg-gray-800 ${f==="large"?"h-56":"h-48"} overflow-hidden`,children:[d.cover_image_url?o.jsx("img",{src:d.cover_image_url,alt:d.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-2 opacity-30",children:[o.jsx("span",{className:"text-5xl",children:""}),o.jsx("span",{className:"text-gray-500 text-xs",children:d.title})]}),d.genre&&o.jsx("div",{className:"absolute top-3 left-3 bg-yellow-500 text-gray-900 text-xs font-black px-2 py-1 rounded-full",children:d.genre}),h(d.published_at)&&o.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs font-black px-2 py-1 rounded-full animate-pulse",children:"NEW"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"Read Now "})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-white font-black text-base mb-1 line-clamp-1",children:d.title}),o.jsx("p",{className:"text-gray-500 text-xs mb-2 line-clamp-2",children:d.description||"No description"}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[o.jsxs("span",{children:[" ",d.episode_count||0," episodes"]}),o.jsxs("span",{children:[" ",d.view_count||0," views"]})]})]})]}),h=d=>d?(Date.now()-new Date(d).getTime())/(1e3*60*60*24)<=7:!1;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#0B0B0B]",children:[o.jsxs("div",{className:"bg-black/60 border-b border-yellow-500/30 px-6 py-4 flex items-center justify-between sticky top-0 z-20 backdrop-blur-md",children:[o.jsx("span",{className:"text-2xl font-black tracking-widest text-yellow-400",children:"PANELX"}),o.jsx("div",{className:"flex-1 max-w-sm mx-6",children:o.jsx("input",{type:"text",value:u,onChange:d=>m(d.target.value),placeholder:"Search series...",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 focus:border-yellow-500 rounded-xl text-white text-sm outline-none transition-colors"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>n("/reader-dashboard"),className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Dashboard"}),o.jsx(Mw,{})]})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-8 scrollbar-hide",children:b.map(d=>o.jsx("button",{onClick:()=>g(d),className:`px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap transition-all ${p===d?"bg-yellow-500 text-gray-900":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white border border-gray-700"}`,children:d},d))}),l?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("div",{className:"text-5xl mb-4 animate-bounce",children:""}),o.jsx("p",{className:"text-gray-400",children:"Loading comics..."})]}):r.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-white font-bold text-xl mb-2",children:"No comics yet!"}),o.jsx("p",{className:"text-gray-500",children:"Be the first to publish a comic series"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"mb-12",children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-1 h-8 bg-yellow-500 rounded-full"}),o.jsx("h2",{className:"text-2xl font-black text-white",children:"New Series"}),o.jsx("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs font-black px-2 py-1 rounded-full border border-yellow-500/30",children:v.length})]}),o.jsx("span",{className:"text-gray-500 text-sm",children:"Latest releases"})]}),v.length===0?o.jsx("div",{className:"text-center py-10 border border-dashed border-gray-700 rounded-2xl",children:o.jsx("p",{className:"text-gray-500",children:"No series match your filter"})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5",children:v.map((d,f)=>o.jsx(N,{s:d,size:f===0?"large":"normal"},d.id))})]}),i.length>0&&o.jsxs("section",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-5",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-1 h-8 bg-orange-500 rounded-full"}),o.jsx("h2",{className:"text-2xl font-black text-white",children:"Trending"}),o.jsx("span",{className:"text-2xl",children:""})]}),o.jsx("span",{className:"text-gray-500 text-sm",children:"Most viewed this week"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.slice(0,5).map((d,f)=>o.jsxs("div",{onClick:()=>n(`/reader/comic/${d.id}`),className:"bg-gray-900/60 border border-gray-700 hover:border-orange-500/50 rounded-xl p-4 flex items-center gap-4 cursor-pointer transition-all hover:bg-gray-900",children:[o.jsx("span",{className:`text-3xl font-black w-8 text-center flex-shrink-0 ${f===0?"text-yellow-400":f===1?"text-gray-400":f===2?"text-orange-600":"text-gray-600"}`,children:f+1}),o.jsx("div",{className:"w-14 h-14 bg-gray-800 rounded-lg overflow-hidden flex-shrink-0",children:d.cover_image_url?o.jsx("img",{src:d.cover_image_url,alt:d.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl opacity-40",children:""})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-white font-black truncate",children:d.title}),o.jsxs("p",{className:"text-gray-500 text-xs",children:[d.genre,"  ",d.episode_count||0," episodes"]})]}),o.jsxs("div",{className:"text-right flex-shrink-0",children:[o.jsxs("p",{className:"text-orange-400 font-black",children:[" ",d.view_count||0]}),o.jsx("p",{className:"text-gray-600 text-xs",children:"views"})]})]},d.id))})]})]})]})]})}function Fw(){const{comicId:e}=oh(),t=he(),{user:n}=Be(),[r,s]=y.useState(null),[i,a]=y.useState([]),[l,c]=y.useState({}),[u,m]=y.useState(!0);y.useEffect(()=>{p()},[e]);const p=async()=>{m(!0);try{const h=await(await fetch(`${q}/api/series/${e}`)).json();if(h.success){s(h.series);const d=(h.series.episodes||[]).filter(f=>f.is_published).sort((f,x)=>f.episode_number-x.episode_number);a(d)}if(n)try{const f=await(await fetch(`${q}/api/reading-progress/user/${n.uid}/comic/${e}`)).json();if(f.success){const x={};(f.progress||[]).forEach(S=>{x[S.chapter_id]=S}),c(x)}}catch{}}catch(N){console.error("Failed to load series:",N)}finally{m(!1)}},g=()=>{var h;return((h=Object.entries(l).filter(([d,f])=>f.last_read).sort((d,f)=>new Date(f[1].last_read)-new Date(d[1].last_read))[0])==null?void 0:h[0])||null},b=()=>{const N=g();N?t(`/reader/comic/${e}/chapter/${N}`):i.length>0&&t(`/reader/comic/${e}/chapter/${i[0].id}`)};if(u)return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#0B0B0B] flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400",children:"Loading series..."})]})});if(!r)return o.jsxs("div",{className:"min-h-screen bg-[#0B0B0B] flex flex-col items-center justify-center gap-4",children:[o.jsx("p",{className:"text-5xl",children:""}),o.jsx("p",{className:"text-white font-bold text-xl",children:"Series not found"}),o.jsx("button",{onClick:()=>t("/reader-home"),className:"px-6 py-3 bg-yellow-500 text-gray-900 font-black rounded-xl",children:" Back to Home"})]});const w=g(),v=Object.keys(l).length>0;return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#0B0B0B]",children:[o.jsxs("div",{className:"bg-black/60 border-b border-yellow-500/30 px-6 py-4 flex items-center gap-4 sticky top-0 z-20 backdrop-blur-md",children:[o.jsx("button",{onClick:()=>t("/reader-home"),className:"text-gray-400 hover:text-yellow-400 transition-colors font-bold",children:" Back"}),o.jsx("span",{className:"text-yellow-400 font-black text-xl tracking-widest",children:"PANELX"})]}),o.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex gap-6 mb-8",children:[o.jsx("div",{className:"w-36 h-48 bg-gray-800 rounded-xl overflow-hidden flex-shrink-0 border border-gray-700",children:r.cover_image_url?o.jsx("img",{src:r.cover_image_url,alt:r.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-5xl opacity-30",children:""})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.genre&&o.jsx("span",{className:"bg-yellow-500 text-gray-900 text-xs font-black px-2 py-1 rounded-full",children:r.genre}),o.jsx("span",{className:"bg-green-500/20 text-green-400 border border-green-500/30 text-xs font-bold px-2 py-1 rounded-full",children:r.status||"Ongoing"})]}),o.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:r.title}),o.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3",children:r.description||"No description provided."}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-5",children:[o.jsxs("span",{children:[" ",i.length," episodes"]}),o.jsxs("span",{children:[" ",r.view_count||0," views"]}),o.jsxs("span",{children:[" ",r.like_count||0," likes"]})]}),i.length>0&&o.jsx("button",{onClick:b,className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-black rounded-xl transition-all transform hover:scale-105",children:v?" Continue Reading":" Start Reading"})]})]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-black text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-6 bg-yellow-500 rounded-full inline-block"}),"Episodes",o.jsxs("span",{className:"text-gray-500 font-normal text-sm",children:["(",i.length,")"]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-700 rounded-2xl",children:[o.jsx("p",{className:"text-5xl mb-3",children:""}),o.jsx("p",{className:"text-gray-400",children:"No episodes published yet"}),o.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Check back later!"})]}):o.jsx("div",{className:"space-y-3",children:i.map(N=>{const h=l[N.id],d=h==null?void 0:h.completed,f=N.id===w;return o.jsxs("div",{onClick:()=>t(`/reader/comic/${e}/chapter/${N.id}`),className:"flex items-center gap-4 bg-gray-900/60 hover:bg-gray-800/80 border border-gray-700 hover:border-yellow-500/40 rounded-xl p-4 cursor-pointer transition-all group",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg overflow-hidden flex-shrink-0",children:N.thumbnail_url?o.jsx("img",{src:N.thumbnail_url,alt:N.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl opacity-30",children:""})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-yellow-400 font-black text-xs",children:["EP ",N.episode_number]}),f&&o.jsx("span",{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30 text-xs px-2 py-0.5 rounded-full font-bold",children:"Last Read"}),d&&o.jsx("span",{className:"text-green-400 text-xs font-bold",children:" Read"})]}),o.jsx("p",{className:"text-white font-bold truncate",children:N.title}),o.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:N.published_at?new Date(N.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Recently published"})]}),h&&!d&&o.jsxs("div",{className:"flex-shrink-0 w-16",children:[o.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:`${Math.min((h.page_number||0)*10,100)}%`}})}),o.jsx("p",{className:"text-gray-600 text-xs mt-1 text-center",children:"In progress"})]}),o.jsx("span",{className:"text-gray-600 group-hover:text-yellow-400 transition-colors flex-shrink-0 text-lg",children:""})]},N.id)})})]})]})]})}function zw(){const{comicId:e,chapterId:t}=oh(),n=he(),{user:r}=Be(),[s,i]=y.useState(null),[a,l]=y.useState([]),[c,u]=y.useState(null),[m,p]=y.useState(!0),[g,b]=y.useState(null),[w,v]=y.useState(!0),[N,h]=y.useState(0),[d,f]=y.useState(0),[x,S]=y.useState(null),[E,_]=y.useState(!1),C=y.useRef(null),j=y.useRef([]),I=y.useRef(null);y.useEffect(()=>{D()},[t]);const D=async()=>{p(!0),b(null),l([]);try{const U=await(await fetch(`${q}/api/series/episode/${t}`)).json();if(!U.success){b("Episode not found."),p(!1);return}i(U.episode);const H=(U.episode.panels||[]).filter(R=>R.image_url&&R.image_url.trim()!=="").sort((R,O)=>(R.panel_order??0)-(O.panel_order??0));l(H),H.length===0&&b("This episode has no panels yet. The creator hasn't added any images.");const T=await(await fetch(`${q}/api/series/${e}`)).json();if(T.success){u(T.series);const R=(T.series.episodes||[]).filter(F=>F.is_published).sort((F,Q)=>F.episode_number-Q.episode_number),O=R.findIndex(F=>F.id===t);O!==-1&&O<R.length-1&&S(R[O+1])}}catch(B){console.error("Error loading episode:",B),b("Failed to load episode. Please check your connection.")}finally{p(!1)}},Y=y.useCallback(async(B,U=!1)=>{if(r)try{await fetch(`${q}/api/reading-progress/update`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:r.uid,comic_id:e,chapter_id:t,page_number:B+1,completed:U,last_read:new Date().toISOString()})})}catch{}},[r,e,t]);y.useEffect(()=>{const B=C.current;if(!B||a.length===0)return;const U=()=>{const{scrollTop:H,scrollHeight:St,clientHeight:T}=B,R=St-T,O=R>0?H/R*100:0;h(Math.min(O,100)),j.current.forEach((F,Q)=>{if(!F)return;const rn=F.getBoundingClientRect();rn.top>=0&&rn.top<=T*.5&&(f(Q),Y(Q))}),O>=98&&(_(!0),Y(a.length-1,!0)),v(!0),clearTimeout(I.current),I.current=setTimeout(()=>v(!1),2500)};return B.addEventListener("scroll",U,{passive:!0}),()=>{B.removeEventListener("scroll",U),clearTimeout(I.current)}},[a,Y]);const X=()=>{v(!0),clearTimeout(I.current),I.current=setTimeout(()=>v(!1),2500)};return m?o.jsxs("div",{className:"h-screen bg-black flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Loading episode..."})]}):g||a.length===0?o.jsxs("div",{className:"h-screen bg-black flex flex-col items-center justify-center gap-5 px-6",children:[o.jsx("p",{className:"text-5xl",children:""}),o.jsx("p",{className:"text-white font-black text-xl text-center",children:g||"No panels found for this episode."}),o.jsx("p",{className:"text-gray-500 text-sm text-center max-w-sm",children:"The creator needs to generate images in the Studio, save them to this episode, then publish."}),o.jsxs("div",{className:"flex gap-3 mt-2",children:[o.jsx("button",{onClick:()=>n(`/reader/comic/${e}`),className:"px-5 py-2.5 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-xl border border-gray-700 transition-colors",children:" Back to Episodes"}),o.jsx("button",{onClick:()=>n("/reader-home"),className:"px-5 py-2.5 bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-black rounded-xl transition-colors",children:"Browse Comics"})]})]}):o.jsxs("div",{className:"h-screen bg-black overflow-hidden relative",style:{fontFamily:"'Segoe UI', sans-serif"},children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-gray-900 z-50",children:o.jsx("div",{className:"h-full bg-yellow-500 transition-all duration-150",style:{width:`${N}%`}})}),o.jsx("div",{className:`fixed top-0 left-0 right-0 z-40 transition-all duration-300 ${w?"opacity-100 translate-y-0":"opacity-0 -translate-y-full"}`,children:o.jsx("div",{className:"bg-gradient-to-b from-black to-transparent px-4 pt-3 pb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>n(`/reader/comic/${e}`),className:"flex items-center gap-2 bg-black/60 hover:bg-black/80 backdrop-blur-sm text-white px-3 py-2 rounded-xl text-sm font-bold transition-colors",children:" Back"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white font-black text-sm line-clamp-1 max-w-[200px]",children:(c==null?void 0:c.title)||"Comic"}),o.jsxs("p",{className:"text-yellow-400 text-xs",children:["EP ",s==null?void 0:s.episode_number,"  ",s==null?void 0:s.title]})]}),o.jsxs("div",{className:"bg-black/60 backdrop-blur-sm text-gray-300 px-3 py-2 rounded-xl text-xs font-bold",children:[d+1," / ",a.length]})]})})}),o.jsxs("div",{ref:C,className:"h-full overflow-y-auto",onClick:X,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:"div::-webkit-scrollbar { display: none; }"}),o.jsx("div",{className:"h-14"}),o.jsx("div",{className:"flex flex-col items-center",children:a.map((B,U)=>o.jsxs("div",{ref:H=>j.current[U]=H,className:"w-full max-w-2xl relative",children:[o.jsx("img",{src:B.image_url,alt:`Panel ${U+1}`,className:"w-full block",loading:U<3?"eager":"lazy",onError:H=>{H.target.style.display="none",H.target.nextSibling.style.display="flex"}}),o.jsxs("div",{className:"w-full bg-gray-900 border border-gray-700 flex-col items-center justify-center py-16 gap-2",style:{display:"none"},children:[o.jsx("p",{className:"text-4xl",children:""}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Image failed to load"})]}),B.dialogues&&B.dialogues.length>0&&o.jsx("div",{className:"absolute inset-0 pointer-events-none",children:B.dialogues.map((H,St)=>o.jsx("div",{className:"absolute",style:{left:`${H.x||10}%`,top:`${H.y||10}%`,maxWidth:"60%"},children:o.jsx("div",{className:"px-3 py-2 rounded-xl font-bold shadow-lg border-2 border-black",style:{backgroundColor:H.bgColor||"#ffffff",color:H.color||"#000000",fontSize:`${H.fontSize||14}px`},children:H.text})},St))})]},B.id||U))}),o.jsxs("div",{className:"flex flex-col items-center py-16 px-6",children:[E&&o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"text-5xl mb-3",children:""}),o.jsx("p",{className:"text-white font-black text-xl",children:"Episode Complete!"}),o.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["You finished ",s==null?void 0:s.title]})]}),o.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[x?o.jsxs("button",{onClick:()=>{_(!1),h(0),f(0),n(`/reader/comic/${e}/chapter/${x.id}`)},className:"w-full py-4 bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-black rounded-2xl transition-all transform hover:scale-105 text-lg",children:["Next Episode  EP ",x.episode_number]}):o.jsx("div",{className:"w-full py-4 bg-gray-800 border border-gray-700 text-gray-400 font-bold rounded-2xl text-center text-sm",children:" You're up to date! Check back later."}),o.jsx("button",{onClick:()=>n(`/reader/comic/${e}`),className:"w-full py-3 bg-gray-800 hover:bg-gray-700 text-white font-bold rounded-2xl transition-colors border border-gray-700",children:" Back to Episodes"})]})]}),o.jsx("div",{className:"h-16"})]}),o.jsx("div",{className:`fixed bottom-0 left-0 right-0 z-40 transition-all duration-300 ${w?"opacity-100 translate-y-0":"opacity-0 translate-y-full"}`,children:o.jsx("div",{className:"bg-gradient-to-t from-black to-transparent px-4 pb-4 pt-8",children:o.jsxs("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[o.jsxs("span",{className:"text-gray-400 text-xs",children:[Math.round(N),"% read"]}),o.jsxs("div",{className:"flex gap-1 items-center",children:[a.slice(0,12).map((B,U)=>o.jsx("div",{className:`rounded-full transition-all ${U===d?"w-4 h-2 bg-yellow-500":U<d?"w-2 h-2 bg-yellow-500/40":"w-2 h-2 bg-gray-700"}`},U)),a.length>12&&o.jsxs("span",{className:"text-gray-600 text-xs ml-1",children:["+",a.length-12]})]}),o.jsx("button",{className:"flex items-center gap-1 bg-gray-800/80 backdrop-blur-sm text-gray-400 hover:text-red-400 px-3 py-1.5 rounded-xl text-xs font-bold transition-colors",children:" Like"})]})})})]})}const Bw=()=>{const e=he();return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"card text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Welcome, Creator "}),o.jsx("p",{className:"mb-4",children:"Start creating your first chapter."}),o.jsx("div",{className:"flex gap-3 justify-center",children:o.jsx("button",{onClick:()=>e("/creator-dashboard"),className:"bg-indigo-600 px-4 py-2 rounded",children:"Go to Dashboard"})})]})})};function op(){const[e,t]=y.useState(!1),{user:n,userProfile:r,logout:s}=Be(),i=y.useRef(null),a=he();y.useEffect(()=>{function m(p){i.current&&!i.current.contains(p.target)&&t(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const l=()=>{s(),a("/login")},c=()=>r!=null&&r.username?r.username.charAt(0).toUpperCase():n!=null&&n.email?n.email.charAt(0).toUpperCase():"U",u=()=>(r==null?void 0:r.username)||(n==null?void 0:n.email)||"User";return o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:[r!=null&&r.avatar_url?o.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover border-2 border-yellow-500"}):o.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center font-bold text-gray-900 border-2 border-yellow-500",children:c()}),o.jsx("span",{className:"hidden md:block text-sm text-white max-w-[150px] truncate",children:u()}),o.jsx("svg",{className:`w-4 h-4 text-white transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-gray-800 border-2 border-yellow-500 rounded-lg shadow-xl z-50",children:[o.jsxs("div",{className:"p-4 border-b border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[r!=null&&r.avatar_url?o.jsx("img",{src:r.avatar_url,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover border-2 border-yellow-500"}):o.jsx("div",{className:"w-12 h-12 bg-yellow-500 rounded-full flex items-center justify-center font-bold text-gray-900 text-xl border-2 border-yellow-500",children:c()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-semibold truncate",children:u()}),o.jsx("p",{className:"text-gray-400 text-xs",children:(r==null?void 0:r.role)==="creator"?" Creator":" Reader"})]})]}),(r==null?void 0:r.bio)&&o.jsx("p",{className:"mt-2 text-gray-400 text-xs line-clamp-2",children:r.bio})]}),o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>{t(!1),a("/profile-settings")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Profile Settings"})]}),o.jsxs("button",{onClick:()=>{t(!1),a((r==null?void 0:r.role)==="creator"?"/creator-dashboard":"/reader-dashboard")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Dashboard"})]}),(r==null?void 0:r.role)==="creator"&&o.jsxs("button",{onClick:()=>{t(!1),a("/creator-studio")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Studio"})]}),(r==null?void 0:r.role)==="reader"&&o.jsxs("button",{onClick:()=>{t(!1),a("/reader-home")},className:"w-full px-4 py-2 text-left text-white hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Library"})]}),o.jsx("div",{className:"border-t border-gray-700 my-2"}),o.jsxs("button",{onClick:l,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-700 transition-colors flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{children:"Logout"})]})]})]})]})}function $w(){const{user:e,userProfile:t}=Be(),n=he(),[r,s]=y.useState("series"),[i,a]=y.useState([]),[l,c]=y.useState([]),[u,m]=y.useState(!0),[p,g]=y.useState(!1),[b,w]=y.useState({title:"",description:"",genre:"",tags:""}),[v,N]=y.useState(!1),[h,d]=y.useState(null),f=["Action","Fantasy","Romance","Sci-Fi","Horror","Comedy","Drama","Adventure","Mystery","Slice of Life"];y.useEffect(()=>{e&&(x(),S())},[e]);const x=async()=>{try{const I=await(await fetch(`${q}/api/series/creator/${e.uid}`)).json();I.success&&a(I.series)}catch(j){console.error(j)}finally{m(!1)}},S=async()=>{try{const I=await(await fetch(`${q}/api/series/episode/creator/${e.uid}`)).json();I.success&&c(I.episodes)}catch(j){console.error(j)}},E=async()=>{if(!b.title.trim())return alert("Series needs a title!");N(!0);try{const I=await(await fetch(`${q}/api/series/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({creator_uid:e.uid,...b})})).json();I.success&&(a(D=>[I.series,...D]),g(!1),w({title:"",description:"",genre:"",tags:""}))}catch{alert("Failed to create series")}finally{N(!1)}},_=async(j,I)=>{d(I);try{const D=j==="series"?`${q}/api/series/${I}/publish`:`${q}/api/series/episode/${I}/publish`,X=await(await fetch(D,{method:"POST"})).json();X.success&&(j==="series"?a(B=>B.map(U=>U.id===I?{...U,is_published:X.is_published}:U)):c(B=>B.map(U=>U.id===I?{...U,is_published:X.is_published}:U)))}catch{alert("Failed to toggle publish")}finally{d(null)}},C=async j=>{const I=prompt("Episode title:");if(I)try{const Y=await(await fetch(`${q}/api/series/episode/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({series_id:j,creator_uid:e.uid,title:I})})).json();Y.success&&(S(),n(`/creator-studio?episode=${Y.episode.id}&series=${j}`))}catch{alert("Failed to create episode")}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#0B0B0B]",children:[o.jsxs("div",{className:"bg-black/60 border-b border-yellow-500/30 px-6 py-4 flex items-center justify-between sticky top-0 z-20 backdrop-blur-md",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl font-black tracking-widest text-yellow-400",children:"PANELX"}),o.jsx("span",{className:"text-gray-600",children:"/"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"Creator Dashboard"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>n("/creator-studio"),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-black rounded-lg text-sm transition-all",children:" Open Studio"}),o.jsx("button",{onClick:()=>n("/credits"),className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 border border-yellow-500/40 text-yellow-400 rounded-lg text-sm transition-all",children:" Credits"}),o.jsx(op,{})]})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8 bg-gradient-to-r from-yellow-500/10 to-transparent border border-yellow-500/20 rounded-2xl p-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-black text-white mb-1",children:["Welcome back, ",o.jsx("span",{className:"text-yellow-400",children:(t==null?void 0:t.username)||"Creator"})," "]}),o.jsx("p",{className:"text-gray-400",children:"Manage your series, episodes, and publish your work"})]}),o.jsxs("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-black rounded-xl transition-all transform hover:scale-105 flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:"+"})," New Series"]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[{label:"Total Series",value:i.length,icon:""},{label:"Published",value:i.filter(j=>j.is_published).length,icon:""},{label:"Drafts",value:i.filter(j=>!j.is_published).length,icon:""},{label:"Total Episodes",value:l.length,icon:""}].map((j,I)=>o.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-xl p-4 text-center",children:[o.jsx("p",{className:"text-3xl mb-1",children:j.icon}),o.jsx("p",{className:"text-2xl font-black text-white",children:j.value}),o.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-widest",children:j.label})]},I))}),o.jsx("div",{className:"flex gap-2 border-b border-gray-800 mb-6",children:["series","episodes"].map(j=>o.jsx("button",{onClick:()=>s(j),className:`px-6 py-3 font-black text-sm capitalize border-b-2 -mb-px transition-all ${r===j?"border-yellow-500 text-yellow-400":"border-transparent text-gray-500 hover:text-white"}`,children:j==="series"?" My Series":" My Episodes"},j))}),r==="series"&&o.jsx("div",{children:u?o.jsx("div",{className:"text-center py-20 text-gray-500",children:"Loading..."}):i.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-white font-bold text-xl mb-2",children:"No series yet!"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first comic series to get started"}),o.jsx("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-black rounded-xl",children:"+ Create First Series"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:i.map(j=>o.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 hover:border-yellow-500/50 rounded-2xl overflow-hidden transition-all group",children:[o.jsxs("div",{className:"relative h-40 bg-gray-800 flex items-center justify-center",children:[j.cover_image_url?o.jsx("img",{src:j.cover_image_url,alt:j.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"text-6xl opacity-30",children:""}),o.jsx("div",{className:`absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-black ${j.is_published?"bg-green-500 text-white":"bg-gray-600 text-gray-300"}`,children:j.is_published?" LIVE":" DRAFT"})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-white font-black text-lg mb-1 truncate",children:j.title}),o.jsx("p",{className:"text-gray-500 text-sm mb-1",children:j.genre||"No genre"}),o.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:j.description||"No description"}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-4",children:[o.jsxs("span",{children:[" ",j.published_episodes||0,"/",j.total_episodes||0," episodes"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[" ",j.view_count||0," views"]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>C(j.id),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold rounded-lg transition-colors",children:"+ Episode"}),o.jsx("button",{onClick:()=>_("series",j.id),disabled:h===j.id,className:`flex-1 py-2 text-xs font-black rounded-lg transition-all ${j.is_published?"bg-red-600/20 hover:bg-red-600/40 text-red-400 border border-red-500/40":"bg-green-600 hover:bg-green-500 text-white"} disabled:opacity-50`,children:h===j.id?"...":j.is_published?"Unpublish":" Publish"})]})]})]},j.id))})}),r==="episodes"&&o.jsx("div",{children:l.length===0?o.jsxs("div",{className:"text-center py-20",children:[o.jsx("p",{className:"text-6xl mb-4",children:""}),o.jsx("p",{className:"text-white font-bold text-xl mb-2",children:"No episodes yet!"}),o.jsx("p",{className:"text-gray-500",children:"Create a series first, then add episodes"})]}):o.jsx("div",{className:"space-y-3",children:l.map(j=>o.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 hover:border-yellow-500/30 rounded-xl p-4 flex items-center gap-4 transition-all",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg flex-shrink-0 overflow-hidden",children:j.thumbnail_url?o.jsx("img",{src:j.thumbnail_url,alt:j.title,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl opacity-40",children:""})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-yellow-400 text-xs font-black",children:["EP ",j.episode_number]}),o.jsx("span",{className:"text-gray-600",children:""}),o.jsx("span",{className:"text-gray-400 text-xs truncate",children:j.series_title})]}),o.jsx("h3",{className:"text-white font-bold truncate",children:j.title}),o.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:[new Date(j.created_at).toLocaleDateString(),j.is_published&&j.published_at&&o.jsxs("span",{className:"ml-2 text-green-500",children:[" Published ",new Date(j.published_at).toLocaleDateString()]})]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-black flex-shrink-0 ${j.is_published?"bg-green-500/20 text-green-400 border border-green-500/40":"bg-gray-700 text-gray-400"}`,children:j.is_published?" LIVE":" DRAFT"}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>n(`/creator-studio?episode=${j.id}&series=${j.series_id}`),className:"px-3 py-2 bg-gray-700 hover:bg-gray-600 text-white text-xs font-bold rounded-lg transition-colors",children:" Edit"}),o.jsx("button",{onClick:()=>_("episode",j.id),disabled:h===j.id,className:`px-3 py-2 text-xs font-black rounded-lg transition-all ${j.is_published?"bg-red-600/20 hover:bg-red-600/40 text-red-400 border border-red-500/40":"bg-green-600 hover:bg-green-500 text-white"} disabled:opacity-50`,children:h===j.id?"...":j.is_published?"Unpublish":" Publish"})]})]},j.id))})})]}),p&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-500/50 rounded-2xl p-8 w-full max-w-lg shadow-2xl",children:[o.jsx("h2",{className:"text-2xl font-black text-white mb-6",children:" Create New Series"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Title *"}),o.jsx("input",{type:"text",value:b.title,onChange:j=>w(I=>({...I,title:j.target.value})),placeholder:"My Awesome Comic",className:"w-full px-4 py-3 bg-gray-800 border-2 border-gray-700 focus:border-yellow-500 rounded-xl text-white outline-none transition-colors"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Description"}),o.jsx("textarea",{value:b.description,onChange:j=>w(I=>({...I,description:j.target.value})),placeholder:"What's your comic about?",rows:3,className:"w-full px-4 py-3 bg-gray-800 border-2 border-gray-700 focus:border-yellow-500 rounded-xl text-white outline-none transition-colors resize-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Genre"}),o.jsxs("select",{value:b.genre,onChange:j=>w(I=>({...I,genre:j.target.value})),className:"w-full px-4 py-3 bg-gray-800 border-2 border-gray-700 focus:border-yellow-500 rounded-xl text-white outline-none transition-colors",children:[o.jsx("option",{value:"",children:"Select genre..."}),f.map(j=>o.jsx("option",{value:j,children:j},j))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-gray-400 text-sm mb-1 block",children:"Tags"}),o.jsx("input",{type:"text",value:b.tags,onChange:j=>w(I=>({...I,tags:j.target.value})),placeholder:"action, magic, school (comma separated)",className:"w-full px-4 py-3 bg-gray-800 border-2 border-gray-700 focus:border-yellow-500 rounded-xl text-white outline-none transition-colors"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-xl transition-colors",children:"Cancel"}),o.jsx("button",{onClick:E,disabled:v||!b.title.trim(),className:"flex-1 py-3 bg-yellow-500 hover:bg-yellow-400 disabled:bg-gray-600 text-gray-900 font-black rounded-xl transition-colors",children:v?"Creating...":"Create Series"})]})]})})]})}const Ds=80;function Ww({panel:e,isSelected:t,onSelect:n,onUpdate:r,onDelete:s,onAddDialogue:i}){var f;const a=y.useRef(null),l=y.useRef(!1),c=y.useRef({mouseX:0,mouseY:0,panelX:0,panelY:0}),u=y.useRef(!1),m=y.useRef(null),p=y.useRef({mouseX:0,mouseY:0,w:0,h:0,x:0,y:0}),[g,b]=y.useState(null),w=x=>{if(x.target.closest(".resize-handle")||x.target.closest(".dialogue-box")||x.target.closest("button"))return;x.preventDefault(),x.stopPropagation(),n(e.id),l.current=!0,c.current={mouseX:x.clientX,mouseY:x.clientY,panelX:e.x,panelY:e.y};const S=_=>{if(!l.current)return;const C=_.clientX-c.current.mouseX,j=_.clientY-c.current.mouseY;r(e.id,{x:Math.max(0,c.current.panelX+C),y:Math.max(0,c.current.panelY+j)})},E=()=>{l.current=!1,window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",E)};window.addEventListener("mousemove",S),window.addEventListener("mouseup",E)},v=(x,S)=>{x.preventDefault(),x.stopPropagation(),u.current=!0,m.current=S,p.current={mouseX:x.clientX,mouseY:x.clientY,w:e.width,h:e.height,x:e.x,y:e.y};const E=C=>{if(!u.current)return;const j=C.clientX-p.current.mouseX,I=C.clientY-p.current.mouseY,D=p.current;let Y=D.w,X=D.h,B=D.x,U=D.y;S.includes("e")&&(Y=Math.max(Ds,D.w+j)),S.includes("s")&&(X=Math.max(Ds,D.h+I)),S.includes("w")&&(Y=Math.max(Ds,D.w-j),B=D.x+(D.w-Y)),S.includes("n")&&(X=Math.max(Ds,D.h-I),U=D.y+(D.h-X)),r(e.id,{width:Y,height:X,x:B,y:U})},_=()=>{u.current=!1,window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",_)};window.addEventListener("mousemove",E),window.addEventListener("mouseup",_)},N=(x,S)=>{x.stopPropagation();const E=x.clientX,_=x.clientY,C=e.dialogues.find(X=>X.id===S),j=C.x,I=C.y,D=X=>{const B=X.clientX-E,U=X.clientY-_;r(e.id,{dialogues:e.dialogues.map(H=>H.id===S?{...H,x:Math.max(0,Math.min(90,j+B/e.width*100)),y:Math.max(0,Math.min(90,I+U/e.height*100))}:H)})},Y=()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",Y)};window.addEventListener("mousemove",D),window.addEventListener("mouseup",Y)},h=["n","s","e","w","ne","nw","se","sw"],d={n:{top:-5,left:"50%",transform:"translateX(-50%)",cursor:"n-resize"},s:{bottom:-5,left:"50%",transform:"translateX(-50%)",cursor:"s-resize"},e:{right:-5,top:"50%",transform:"translateY(-50%)",cursor:"e-resize"},w:{left:-5,top:"50%",transform:"translateY(-50%)",cursor:"w-resize"},ne:{top:-5,right:-5,cursor:"ne-resize"},nw:{top:-5,left:-5,cursor:"nw-resize"},se:{bottom:-5,right:-5,cursor:"se-resize"},sw:{bottom:-5,left:-5,cursor:"sw-resize"}};return o.jsxs("div",{ref:a,onMouseDown:w,onClick:()=>n(e.id),style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height,cursor:"grab",userSelect:"none",outline:t?"2px solid #EAB308":"2px solid transparent",boxShadow:t?"0 0 0 1px #EAB308, 0 4px 24px rgba(0,0,0,0.5)":"0 4px 12px rgba(0,0,0,0.4)",borderRadius:4,overflow:"visible",zIndex:t?10:1},children:[o.jsxs("div",{style:{position:"absolute",top:-22,left:0,background:"#EAB308",color:"#111",fontSize:11,fontWeight:900,padding:"1px 6px",borderRadius:4,zIndex:20,pointerEvents:"none"},children:["#",e.order+1]}),o.jsx("img",{src:e.image_url,alt:`Panel ${e.order+1}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",borderRadius:4,pointerEvents:"none"},draggable:!1}),(f=e.dialogues)==null?void 0:f.map(x=>o.jsx("div",{className:"dialogue-box",style:{position:"absolute",left:`${x.x}%`,top:`${x.y}%`,zIndex:15,cursor:"move"},onMouseDown:S=>{S.stopPropagation(),g||N(S,x.id)},children:g===x.id?o.jsx("textarea",{autoFocus:!0,defaultValue:x.text,style:{background:"#fff",color:"#000",border:"2px solid #EAB308",borderRadius:8,padding:"4px 8px",fontSize:x.fontSize||14,fontWeight:600,minWidth:100,maxWidth:200,resize:"both",outline:"none"},onBlur:S=>{r(e.id,{dialogues:e.dialogues.map(E=>E.id===x.id?{...E,text:S.target.value}:E)}),b(null)},onKeyDown:S=>{S.key==="Escape"&&b(null)}}):o.jsxs("div",{onDoubleClick:()=>b(x.id),style:{background:"#fff",border:"2px solid #000",borderRadius:8,padding:"4px 8px",fontSize:x.fontSize||14,fontWeight:600,color:"#000",maxWidth:200,wordBreak:"break-word",boxShadow:"0 2px 8px rgba(0,0,0,0.3)",whiteSpace:"pre-wrap"},title:"Double-click to edit  Drag to move",children:[x.text,o.jsx("button",{onClick:S=>{S.stopPropagation(),r(e.id,{dialogues:e.dialogues.filter(E=>E.id!==x.id)})},style:{position:"absolute",top:-8,right:-8,background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:16,height:16,fontSize:10,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},children:""})]})},x.id)),t&&o.jsxs("div",{style:{position:"absolute",top:-36,right:0,display:"flex",gap:4,zIndex:20},children:[o.jsx("button",{onClick:x=>{x.stopPropagation(),i(e.id)},style:{background:"#3b82f6",color:"#fff",border:"none",borderRadius:6,padding:"3px 8px",fontSize:11,fontWeight:700,cursor:"pointer",whiteSpace:"nowrap"},children:"+ Dialogue"}),o.jsx("button",{onClick:x=>{x.stopPropagation(),s(e.id)},style:{background:"#ef4444",color:"#fff",border:"none",borderRadius:6,padding:"3px 8px",fontSize:11,fontWeight:700,cursor:"pointer"},children:""})]}),t&&h.map(x=>o.jsx("div",{className:"resize-handle",onMouseDown:S=>v(S,x),style:{position:"absolute",width:10,height:10,background:"#EAB308",border:"2px solid #000",borderRadius:2,zIndex:25,...d[x]}},x))]})}function Hw({onPanelsChange:e}){const t=y.useRef(null),[n,r]=y.useState([]),[s,i]=y.useState(null),a=y.useRef(0);y.useEffect(()=>{e&&e(n)},[n]);const l=w=>{w.target===t.current&&i(null)},c=y.useCallback(w=>{w.preventDefault();const v=w.dataTransfer.getData("image_url")||w.dataTransfer.getData("text/plain");if(!v)return;const N=t.current.getBoundingClientRect(),h=w.clientX-N.left-150,d=w.clientY-N.top-200,f={id:`panel_${Date.now()}`,image_url:v,x:Math.max(0,h),y:Math.max(0,d),width:300,height:400,order:a.current++,dialogues:[]};r(x=>[...x,f]),i(f.id)},[]),u=w=>w.preventDefault(),m=y.useCallback((w,v)=>{r(N=>N.map(h=>h.id===w?{...h,...v}:h))},[]),p=y.useCallback(w=>{r(v=>v.filter(N=>N.id!==w)),i(null)},[]),g=y.useCallback(w=>{const v=prompt("Enter dialogue text:");if(!(v!=null&&v.trim()))return;const N={id:`dlg_${Date.now()}`,text:v.trim(),x:10,y:10,fontSize:14};r(h=>h.map(d=>d.id===w?{...d,dialogues:[...d.dialogues||[],N]}:d))},[]),b=n.find(w=>w.id===s);return o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-gray-950",children:[o.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center gap-3 text-sm text-gray-400 flex-shrink-0",children:[o.jsx("span",{className:"font-bold text-yellow-400",children:"Controls:"}),o.jsx("span",{children:" Drag image from chat to canvas"}),o.jsx("span",{children:""}),o.jsx("span",{children:"Click to select"}),o.jsx("span",{children:""}),o.jsx("span",{children:"Drag corners to resize"}),o.jsx("span",{children:""}),o.jsx("span",{children:"Double-click dialogue to edit"}),b&&o.jsxs("span",{className:"ml-auto text-yellow-400 font-bold",children:["Panel #",b.order+1," selected "," ",Math.round(b.width),"",Math.round(b.height),"px"]})]}),o.jsxs("div",{ref:t,onDrop:c,onDragOver:u,onClick:l,style:{flex:1,position:"relative",overflow:"auto",background:"repeating-linear-gradient(0deg, transparent, transparent 39px, #1f2937 39px, #1f2937 40px), repeating-linear-gradient(90deg, transparent, transparent 39px, #1f2937 39px, #1f2937 40px)",backgroundColor:"#111827",minHeight:600},children:[n.length===0&&o.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:[o.jsx("div",{style:{fontSize:48,marginBottom:12,opacity:.3},children:""}),o.jsx("p",{style:{color:"#4b5563",fontSize:16,fontWeight:600},children:"Generate an image in the chat then drag it here"}),o.jsx("p",{style:{color:"#374151",fontSize:13,marginTop:6},children:"You can drag, resize, and add dialogues to each panel"})]}),n.sort((w,v)=>w.order-v.order).map(w=>o.jsx(Ww,{panel:w,isSelected:s===w.id,onSelect:i,onUpdate:m,onDelete:p,onAddDialogue:g},w.id))]})]})}function Vw({isOpen:e,onToggle:t}){const[n,r]=y.useState([{id:1,sender:"system",text:`Welcome to PanelX! 

I'm your AI comic assistant. Try:
 'generate: A hero in space'
 'generate: A dragon breathing fire'
 Just describe what you want to see!`,timestamp:new Date}]),[s,i]=y.useState(""),[a,l]=y.useState(!1),[c,u]=y.useState("checking"),m=y.useRef(null),p=()=>{var h;(h=m.current)==null||h.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{p()},[n]),y.useEffect(()=>{g()},[]);const g=async()=>{try{(await fetch(`${q}/api/chat/health`)).ok?u("connected"):u("error")}catch{u("disconnected")}},b=async()=>{if(!s.trim())return;const h={id:Date.now(),sender:"user",text:s,timestamp:new Date};r(f=>[...f,h]);const d=s;i(""),l(!0);try{if(d.toLowerCase().includes("generate:")||d.toLowerCase().includes("draw:")||d.toLowerCase().includes("create:")){const x=d.replace(/generate:/gi,"").replace(/draw:/gi,"").replace(/create:/gi,"").trim(),S=await fetch("http://localhost:8000/api/chat/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:x,style:"comic book art"})});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const E=await S.json(),_={id:Date.now()+1,sender:"bot",text:` Image generated!
          
 Prompt: ${x}

 Drag to canvas`,imageUrl:E.image_url,timestamp:new Date};r(C=>[...C,_])}else{const x=await fetch("http://localhost:8000/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:d,generate_image:!1})});if(!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const S=await x.json(),E={id:Date.now()+1,sender:"bot",text:S.response||"Got your message!",timestamp:new Date};r(_=>[..._,E])}}catch(f){console.error("Error:",f);const x={id:Date.now()+1,sender:"system",text:` Error: ${f.message}

Make sure:
1. Backend is running (python main_simple.py)
2. Replicate API key is in .env
3. URL is correct: http://localhost:8000`,timestamp:new Date};r(S=>[...S,x])}finally{l(!1)}},w=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),b())},v=()=>{r([{id:1,sender:"system",text:"Chat cleared! Type 'generate: your idea' to create images.",timestamp:new Date}])},N=(h,d)=>{h.dataTransfer.setData("image_url",d),h.dataTransfer.effectAllowed="copy"};return o.jsxs(o.Fragment,{children:[!e&&o.jsx("button",{onClick:t,className:"fixed right-0 top-1/2 -translate-y-1/2 bg-yellow-500 hover:bg-yellow-400 text-gray-900 p-3 rounded-l-lg shadow-lg z-50 transition-all animate-pulse",title:"Open AI Chat",children:o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{className:"text-xs font-bold",children:"AI"})]})}),o.jsxs("div",{className:`fixed right-0 top-0 h-full bg-gradient-to-b from-green-900 to-green-950 border-l-4 border-yellow-500 flex flex-col shadow-2xl z-40 transition-transform duration-300 ${e?"translate-x-0":"translate-x-full"}`,style:{width:"380px"},children:[o.jsxs("div",{className:"flex-none bg-green-800 p-3 border-b-2 border-yellow-500",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"text-lg font-bold text-yellow-400",children:" AI Assistant"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:v,className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded transition-colors",children:"Clear"}),o.jsx("button",{onClick:t,className:"px-2 py-1 bg-red-600 hover:bg-red-500 text-white text-xs rounded transition-colors",children:""})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${c==="connected"?"bg-green-400 animate-pulse":c==="checking"?"bg-yellow-400 animate-pulse":"bg-red-400"}`}),o.jsx("span",{className:"text-green-300 text-xs",children:c==="connected"?" Connected to Replicate":c==="checking"?"Checking...":" Disconnected"}),o.jsx("button",{onClick:g,className:"ml-auto text-yellow-400 hover:text-yellow-300 text-xs",title:"Refresh connection",children:""})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 min-h-0",children:[n.map(h=>o.jsx("div",{className:`flex ${h.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[85%] rounded-lg p-2 text-xs ${h.sender==="user"?"bg-yellow-500 text-gray-900":h.sender==="system"?"bg-gray-800 text-green-300 border border-yellow-600":"bg-green-800 text-yellow-400 border border-yellow-600"}`,children:[o.jsx("div",{className:"text-[10px] opacity-75 mb-1 font-semibold",children:h.sender==="user"?"You":h.sender==="system"?"System":"AI"}),o.jsx("p",{className:"text-xs whitespace-pre-line break-words leading-relaxed",children:h.text}),h.imageUrl&&o.jsxs("div",{className:"mt-2",children:[o.jsx("img",{src:h.imageUrl,alt:"Generated comic panel",draggable:"true",onDragStart:d=>N(d,h.imageUrl),className:"max-w-full rounded border-2 border-yellow-500 cursor-grab active:cursor-grabbing hover:scale-105 transition-transform",title:" Drag to canvas!"}),o.jsx("p",{className:"text-[10px] opacity-75 mt-1 text-center bg-yellow-500/20 rounded py-1",children:" Drag image to canvas"})]}),o.jsx("div",{className:"text-[10px] opacity-60 mt-1",children:h.timestamp.toLocaleTimeString()})]})},h.id)),a&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-green-800 text-yellow-400 border border-yellow-600 rounded-lg p-2",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:"animate-spin text-sm",children:""}),o.jsx("span",{children:"Generating..."})]})})}),o.jsx("div",{ref:m})]}),o.jsxs("div",{className:"flex-none p-2 bg-green-900 border-t-2 border-yellow-500",children:[o.jsxs("div",{className:"flex gap-1 mb-2",children:[o.jsx("textarea",{value:s,onChange:h=>i(h.target.value),onKeyPress:w,placeholder:"Type: generate: your idea...",className:"flex-1 px-2 py-1 bg-gray-800 border-2 border-green-600 rounded text-yellow-400 placeholder-gray-500 resize-none focus:outline-none focus:border-yellow-500 text-xs",rows:2}),o.jsx("button",{onClick:b,disabled:!s.trim()||a,className:"px-3 py-1 bg-yellow-500 hover:bg-yellow-400 disabled:bg-gray-600 disabled:cursor-not-allowed text-gray-900 font-bold rounded text-xs transition-colors",children:"Send"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[o.jsx("button",{onClick:()=>i("generate: A superhero flying"),className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-yellow-400 text-[10px] rounded transition-colors",children:" Hero"}),o.jsx("button",{onClick:()=>i("generate: A dragon"),className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-yellow-400 text-[10px] rounded transition-colors",children:" Dragon"}),o.jsx("button",{onClick:()=>i("generate: Space battle"),className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-yellow-400 text-[10px] rounded transition-colors",children:" Space"}),o.jsx("button",{onClick:()=>i("generate: City skyline"),className:"px-2 py-1 bg-gray-700 hover:bg-gray-600 text-yellow-400 text-[10px] rounded transition-colors",children:" City"})]}),o.jsx("div",{className:"mt-2 p-1 bg-gray-800/50 rounded text-[10px] text-green-300",children:o.jsxs("p",{children:[o.jsx("strong",{className:"text-yellow-400",children:" Tip:"}),' Start with "generate:" then describe your panel!']})})]})]})]})}function Gw({panels:e,onReorder:t,onClose:n,episodeId:r}){const[s,i]=y.useState([...e]),[a,l]=y.useState(null),[c,u]=y.useState(null),[m,p]=y.useState(!1),[g,b]=y.useState(!1),w=y.useRef(null),v=(E,_)=>{w.current=_,l(_),E.dataTransfer.effectAllowed="move"},N=(E,_)=>{E.preventDefault(),E.dataTransfer.dropEffect="move",u(_)},h=(E,_)=>{E.preventDefault();const C=w.current;if(C===_)return;const j=[...s],[I]=j.splice(C,1);j.splice(_,0,I);const D=j.map((Y,X)=>({...Y,panel_order:X}));i(D),l(null),u(null),w.current=null},d=()=>{l(null),u(null)},f=E=>{if(E===0)return;const _=[...s];[_[E-1],_[E]]=[_[E],_[E-1]],i(_.map((C,j)=>({...C,panel_order:j})))},x=E=>{if(E===s.length-1)return;const _=[...s];[_[E],_[E+1]]=[_[E+1],_[E]],i(_.map((C,j)=>({...C,panel_order:j})))},S=async()=>{p(!0);try{r&&await fetch(`http://localhost:8000/api/series/episode/${r}/panels/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({episode_id:r,creator_uid:"current_user",panels:s})}),t(s),b(!0),setTimeout(()=>{b(!1),n()},1200)}catch{alert("Failed to save order")}finally{p(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-gray-900 border-2 border-yellow-500/40 rounded-2xl w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl",style:{fontFamily:"'Segoe UI', sans-serif"},children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-white",children:" Panel Order"}),o.jsx("p",{className:"text-gray-500 text-xs mt-0.5",children:"Drag & drop or use arrows to reorder  Changes save to episode"})]}),o.jsx("button",{onClick:n,className:"text-gray-500 hover:text-white transition-colors text-2xl leading-none",children:""})]}),o.jsxs("div",{className:"px-6 py-3 bg-yellow-500/5 border-b border-yellow-500/10 flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-yellow-400 font-bold",children:[s.length," panels"]}),o.jsx("span",{className:"text-gray-600",children:""}),o.jsx("span",{className:"text-gray-400",children:"Drag panels to rearrange reading order"}),o.jsx("span",{className:"ml-auto text-gray-600 text-xs",children:" Tip: Use arrows on mobile"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:s.length===0?o.jsxs("div",{className:"text-center py-16 text-gray-600",children:[o.jsx("p",{className:"text-4xl mb-3",children:""}),o.jsx("p",{children:"No panels yet. Generate panels in the studio first."})]}):s.map((E,_)=>{var C,j,I;return o.jsxs("div",{draggable:!0,onDragStart:D=>v(D,_),onDragOver:D=>N(D,_),onDrop:D=>h(D,_),onDragEnd:d,className:`flex items-center gap-3 p-3 rounded-xl border-2 transition-all cursor-grab active:cursor-grabbing select-none ${a===_?"opacity-40 scale-95 border-yellow-500 bg-yellow-500/10":c===_?"border-yellow-400 bg-yellow-400/10 scale-[1.02] shadow-lg shadow-yellow-500/20":"border-gray-700 bg-gray-800/60 hover:border-gray-600"}`,children:[o.jsx("div",{className:"text-gray-600 hover:text-gray-400 transition-colors flex-shrink-0 select-none",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[o.jsx("circle",{cx:"5",cy:"4",r:"1.5"}),o.jsx("circle",{cx:"11",cy:"4",r:"1.5"}),o.jsx("circle",{cx:"5",cy:"8",r:"1.5"}),o.jsx("circle",{cx:"11",cy:"8",r:"1.5"}),o.jsx("circle",{cx:"5",cy:"12",r:"1.5"}),o.jsx("circle",{cx:"11",cy:"12",r:"1.5"})]})}),o.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 border border-yellow-500/40 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-yellow-400 font-black text-sm",children:_+1})}),o.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg overflow-hidden flex-shrink-0 border border-gray-600",children:E.image_url?o.jsx("img",{src:E.image_url,alt:`Panel ${_+1}`,className:"w-full h-full object-cover",draggable:!1}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl opacity-30",children:""})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("p",{className:"text-white font-bold text-sm",children:["Panel ",_+1]}),o.jsx("p",{className:"text-gray-500 text-xs truncate",children:((C=E.dialogues)==null?void 0:C.length)>0?`${E.dialogues.length} dialogue(s): "${(I=(j=E.dialogues[0])==null?void 0:j.text)==null?void 0:I.slice(0,30)}..."`:"No dialogue"})]}),o.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[o.jsx("button",{onClick:()=>f(_),disabled:_===0,className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 disabled:opacity-20 text-white rounded-lg text-xs flex items-center justify-center transition-colors",children:""}),o.jsx("button",{onClick:()=>x(_),disabled:_===s.length-1,className:"w-7 h-7 bg-gray-700 hover:bg-gray-600 disabled:opacity-20 text-white rounded-lg text-xs flex items-center justify-center transition-colors",children:""})]})]},E.id||_)})}),o.jsxs("div",{className:"px-6 py-4 border-t border-gray-800 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>i([...e]),className:"px-4 py-2 text-gray-400 hover:text-white text-sm transition-colors",children:" Reset Order"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:n,className:"px-5 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-xl font-bold text-sm transition-colors",children:"Cancel"}),o.jsx("button",{onClick:S,disabled:m||g,className:`px-6 py-2 rounded-xl font-black text-sm transition-all ${g?"bg-green-600 text-white":"bg-yellow-500 hover:bg-yellow-400 text-gray-900"} disabled:opacity-70`,children:g?" Saved!":m?"Saving...":"Save Order"})]})]})]})})}function Kw(){const{user:e}=Be(),t=he(),[n]=U0(),r=n.get("episode"),s=n.get("series"),[i,a]=y.useState(!1),[l,c]=y.useState(!1),[u,m]=y.useState([]),[p,g]=y.useState(!1),[b,w]=y.useState(!1),[v,N]=y.useState(null),[h,d]=y.useState(!1);y.useEffect(()=>{r&&f()},[r]);const f=async()=>{try{const C=await(await fetch(`${q}/api/series/episode/${r}`)).json();C.success&&(N(C.episode.is_published?"live":"draft"),m(C.episode.panels||[]))}catch(_){console.error("Failed to fetch episode status",_)}},x=async()=>{if(!r){alert("No episode selected. Go to Dashboard  create a series  add an episode  open Studio from there.");return}g(!0),d(!1);try{const C=await(await fetch(`${q}/api/series/episode/${r}/publish`,{method:"POST"})).json();if(C.success){const j=C.is_published;N(j?"live":"draft"),w(j),j&&setTimeout(()=>w(!1),3e3)}}catch{alert("Failed to toggle publish. Is the backend running?")}finally{g(!1)}},S=async()=>{if(s){d(!1);try{await fetch(`${q}/api/series/${s}/publish`,{method:"POST"}),alert("Series published! It will now appear on the Reader Home.")}catch{alert("Failed to publish series.")}}},E=async _=>{if(m(_),!!r)try{await fetch(`${q}/api/series/episode/${r}/panels/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({episode_id:r,creator_uid:e==null?void 0:e.uid,panels:_})})}catch(C){console.error("Panel save failed",C)}};return o.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-gray-900 flex relative",children:[o.jsxs("div",{className:"w-16 bg-gray-800 border-r-2 border-yellow-500 flex flex-col items-center py-4 gap-3",children:[[{icon:"",label:"Speech",color:"bg-yellow-500 text-gray-900"},{icon:"",label:"Thought",color:"bg-blue-600 text-white"},{icon:"",label:"Action",color:"bg-red-600 text-white"},{icon:"",label:"Emoji",color:"bg-purple-600 text-white"},{icon:"",label:"Panel",color:"bg-green-600 text-white"}].map(_=>o.jsx("button",{className:`w-12 h-12 rounded-lg flex items-center justify-center transition-colors ${_.color} hover:opacity-80`,title:_.label,children:o.jsx("span",{className:"text-2xl",children:_.icon})},_.label)),o.jsx("div",{className:"flex-1"}),o.jsxs("button",{onClick:()=>a(!i),className:`w-12 h-12 rounded-lg flex flex-col items-center justify-center transition-all ${i?"bg-green-600 hover:bg-green-500":"bg-yellow-500 hover:bg-yellow-400 animate-pulse"}`,title:i?"Close Chat":"Open AI Chat",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsx("span",{className:"text-[8px] font-bold",children:i?"Close":"Chat"})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[o.jsxs("div",{className:"bg-gray-800 border-b-2 border-yellow-500 px-4 py-2 flex items-center justify-between gap-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx("h1",{className:"text-xl font-bold text-yellow-400 whitespace-nowrap",children:" GOAT Studio"}),r?o.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-2 py-1 bg-gray-700 rounded-full text-xs text-gray-300 max-w-[200px] truncate",children:[" ",r.slice(0,14),"..."]}):o.jsx("span",{className:"hidden sm:flex items-center gap-1 px-2 py-1 bg-orange-500/20 border border-orange-500/40 rounded-full text-xs text-orange-400",children:" No episode selected"})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors hidden sm:flex items-center gap-1",children:" Undo"}),o.jsx("button",{className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors hidden sm:flex items-center gap-1",children:" Redo"}),o.jsxs("button",{onClick:()=>c(!0),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors flex items-center gap-1",title:"Reorder panels",children:[" ",o.jsx("span",{className:"hidden sm:inline",children:"Order"})]}),o.jsxs("button",{onClick:()=>E(u),className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors flex items-center gap-1",children:[" ",o.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>d(!h),disabled:p,className:`px-4 py-1.5 rounded text-sm font-black flex items-center gap-2 transition-all ${b?"bg-green-600 hover:bg-green-500 text-white":v==="live"?"bg-red-600/80 hover:bg-red-600 text-white border border-red-500":"bg-yellow-500 hover:bg-yellow-400 text-gray-900"} disabled:opacity-60`,children:p?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Publishing..."]}):b?o.jsx(o.Fragment,{children:" Published!"}):v==="live"?o.jsx(o.Fragment,{children:" Unpublish"}):o.jsx(o.Fragment,{children:" Publish"})}),h&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-gray-800 border border-yellow-500/40 rounded-xl shadow-2xl z-50 overflow-hidden",children:[o.jsx("div",{className:"px-3 py-2 border-b border-gray-700",children:o.jsx("p",{className:"text-gray-400 text-xs",children:"Publish options"})}),o.jsxs("button",{onClick:x,className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors flex items-start gap-3",children:[o.jsx("span",{className:"text-xl mt-0.5",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-bold text-sm",children:v==="live"?"Unpublish Episode":"Publish Episode"}),o.jsx("p",{className:"text-gray-500 text-xs",children:v==="live"?"Take this episode offline":"Make this episode readable"})]})]}),o.jsxs("button",{onClick:S,className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors flex items-start gap-3 border-t border-gray-700",children:[o.jsx("span",{className:"text-xl mt-0.5",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-bold text-sm",children:"Publish Series"}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Show series on Reader Home"})]})]}),o.jsxs("button",{onClick:()=>t("/creator-dashboard"),className:"w-full px-4 py-3 text-left hover:bg-gray-700 transition-colors flex items-start gap-3 border-t border-gray-700",children:[o.jsx("span",{className:"text-xl mt-0.5",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-bold text-sm",children:"Go to Dashboard"}),o.jsx("p",{className:"text-gray-500 text-xs",children:"Manage all series & episodes"})]})]})]})]}),o.jsx(op,{})]})]}),o.jsx(Hw,{}),o.jsxs("div",{className:"bg-gray-800 border-t-2 border-yellow-500 p-2 flex items-center gap-2 overflow-x-auto flex-shrink-0",children:[["Panel 1","Panel 2","Panel 3","Panel 4","Panel 5"].map((_,C)=>o.jsx("button",{className:`px-4 py-2 rounded whitespace-nowrap text-sm transition-colors ${C===0?"bg-yellow-500 text-gray-900 font-bold":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:_},_)),o.jsx("button",{className:"px-4 py-2 border-2 border-dashed border-yellow-500 text-yellow-400 hover:bg-gray-700 rounded whitespace-nowrap text-sm transition-colors",children:"+ Add Panel"})]})]}),o.jsx(Vw,{isOpen:i,onToggle:()=>a(!i)}),l&&o.jsx(Gw,{panels:u,onReorder:E,onClose:()=>c(!1),episodeId:r}),h&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d(!1)}),!r&&o.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-30 bg-orange-500/90 backdrop-blur-sm text-white px-5 py-3 rounded-xl shadow-xl flex items-center gap-3 text-sm",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"font-black",children:"No episode selected"}),o.jsx("p",{className:"text-orange-100 text-xs",children:"Go to Dashboard  Create Series  Add Episode  Open Studio"})]}),o.jsx("button",{onClick:()=>t("/creator-dashboard"),className:"ml-2 bg-white text-orange-600 font-black px-3 py-1 rounded-lg text-xs hover:bg-orange-100 transition-colors",children:"Dashboard "})]})]})}function Yw(){const e=he(),[t,n]=y.useState(""),[r,s]=y.useState("male"),[i,a]=y.useState("short"),[l,c]=y.useState("normal"),[u,m]=y.useState("casual"),[p,g]=y.useState("anime"),[b,w]=y.useState("manga"),[v,N]=y.useState(!1);async function h(){if(!t)return alert("Enter a name");N(!0);const d={name:t,gender:r,hair:i,eyes:l,clothes:u,vibe:p,style:b,background:"transparent"};try{const x=await(await fetch("http://localhost:8000/api/characters/create-character",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json(),S=JSON.parse(localStorage.getItem("characters")||"[]");S.push(x.rig),localStorage.setItem("characters",JSON.stringify(S)),e("/creator-studio")}catch{alert("Error creating character")}finally{N(!1)}}return o.jsxs("div",{className:"min-h-screen bg-black text-white p-10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-[#F2C94C]",children:"Create Your Character"}),o.jsx("button",{onClick:()=>e("/creator-studio"),className:"px-4 py-2 bg-[#00A676]/20 text-[#00A676] rounded",children:" Back to Studio"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 max-w-3xl",children:[o.jsx("input",{placeholder:"Name",value:t,onChange:d=>n(d.target.value)}),o.jsxs("select",{value:r,onChange:d=>s(d.target.value),children:[o.jsx("option",{children:"male"}),o.jsx("option",{children:"female"})]}),o.jsxs("select",{value:i,onChange:d=>a(d.target.value),children:[o.jsx("option",{children:"short"}),o.jsx("option",{children:"medium"}),o.jsx("option",{children:"long"})]}),o.jsxs("select",{value:l,onChange:d=>c(d.target.value),children:[o.jsx("option",{children:"normal"}),o.jsx("option",{children:"serious"})]}),o.jsxs("select",{value:u,onChange:d=>m(d.target.value),children:[o.jsx("option",{children:"casual"}),o.jsx("option",{children:"streetwear"})]}),o.jsxs("select",{value:p,onChange:d=>g(d.target.value),children:[o.jsx("option",{children:"anime"}),o.jsx("option",{children:"manhwa"})]}),o.jsxs("select",{value:b,onChange:d=>w(d.target.value),children:[o.jsx("option",{children:"manga"}),o.jsx("option",{children:"manhwa"})]})]}),o.jsx("button",{onClick:h,disabled:v,className:"mt-8 bg-[#00A676] px-6 py-3 rounded",children:v?"Generating...":"Create Character"})]})}function Xw(){return o.jsxs("div",{className:"min-h-screen flex bg-[#F7F8FA]",children:[o.jsxs("aside",{className:"w-64 bg-white border-r p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-[#00A676] mb-4",children:"Tools"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("button",{className:"w-full px-3 py-2 bg-[#ECEEF2] text-left rounded hover:bg-[#00A676]/20",children:"+ Panel"}),o.jsx("button",{className:"w-full px-3 py-2 bg-[#ECEEF2] text-left rounded hover:bg-[#00A676]/20",children:"+ Speech Bubble"}),o.jsx("button",{className:"w-full px-3 py-2 bg-[#ECEEF2] text-left rounded hover:bg-[#00A676]/20",children:"+ Narration Box"}),o.jsx("button",{className:"w-full px-3 py-2 bg-[#ECEEF2] text-left rounded hover:bg-[#00A676]/20",children:"+ Character Label"})]})]}),o.jsx("main",{className:"flex-1 flex justify-center items-start p-10",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-[70%] min-h-[80vh] border border-gray-300 p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Canvas"}),o.jsx("div",{className:"w-full h-[70vh] bg-[#ECEEF2] rounded-lg flex items-center justify-center text-gray-500",children:"Drop panels or elements here"})]})}),o.jsxs("aside",{className:"w-72 bg-white border-l p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-[#F2C94C] mb-4",children:"Properties"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-gray-700",children:"Position X"}),o.jsx("input",{type:"number",className:"w-full mt-1 rounded border px-2 py-1"})]}),o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-gray-700",children:"Position Y"}),o.jsx("input",{type:"number",className:"w-full mt-1 rounded border px-2 py-1"})]}),o.jsxs("label",{className:"block",children:[o.jsx("span",{className:"text-gray-700",children:"Font Size"}),o.jsx("input",{type:"number",className:"w-full mt-1 rounded border px-2 py-1"})]}),o.jsx("button",{className:"w-full mt-2 px-3 py-2 bg-[#00A676] text-white rounded hover:bg-[#00895F]",children:"Apply"})]})]})]})}function Qw(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#00A676] py-8 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(Ue,{to:"/",className:"text-yellow-400 hover:text-yellow-300 text-sm mb-4 inline-block",children:" Back to Home"}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Terms of Service"}),o.jsx("p",{className:"text-gray-400",children:"Last updated: February 11, 2026"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl border-2 border-gray-700 p-8 space-y-6 text-gray-300",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"1. Acceptance of Terms"}),o.jsx("p",{className:"leading-relaxed",children:'By accessing and using PanelX ("the Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these Terms of Service, please do not use the Service.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"2. Description of Service"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"PanelX is an AI-powered comic creation and reading platform that provides:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"AI-generated images for comic panels"}),o.jsx("li",{children:"Comic creation tools and editors"}),o.jsx("li",{children:"Comic reading and discovery features"}),o.jsx("li",{children:"User accounts and profile management"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"3. User Accounts"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"To use certain features of the Service, you must register for an account. You agree to:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Provide accurate and complete information"}),o.jsx("li",{children:"Maintain the security of your password"}),o.jsx("li",{children:"Accept responsibility for all activities under your account"}),o.jsx("li",{children:"Notify us immediately of any unauthorized use"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"4. Content Ownership & Rights"}),o.jsxs("p",{className:"leading-relaxed mb-3",children:[o.jsx("strong",{className:"text-white",children:"Your Content:"})," You retain ownership of comics and content you create using PanelX. By using the Service, you grant PanelX a license to host, display, and distribute your content on the platform."]}),o.jsxs("p",{className:"leading-relaxed mb-3",children:[o.jsx("strong",{className:"text-white",children:"AI-Generated Content:"})," Images generated using our AI tools are created specifically for you, but are subject to the terms of the underlying AI service providers."]}),o.jsxs("p",{className:"leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Prohibited Content:"})," You may not create or upload content that is illegal, harmful, threatening, abusive, harassing, defamatory, vulgar, obscene, or invasive of another's privacy."]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"5. Usage Limits & Fair Use"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"We reserve the right to impose reasonable limits on your use of the Service, including:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Number of AI image generations per day/month"}),o.jsx("li",{children:"Storage space for uploaded content"}),o.jsx("li",{children:"API rate limits"})]}),o.jsx("p",{className:"leading-relaxed mt-3",children:"Excessive or abusive use may result in temporary or permanent suspension of your account."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"6. Payment & Billing"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"Some features of PanelX may require payment. By purchasing a paid subscription or credits:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"You agree to pay all fees associated with your purchase"}),o.jsx("li",{children:"Payments are non-refundable except as required by law"}),o.jsx("li",{children:"Prices are subject to change with notice"}),o.jsx("li",{children:"Subscriptions auto-renew unless cancelled"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"7. Termination"}),o.jsx("p",{className:"leading-relaxed",children:"We reserve the right to suspend or terminate your account at any time for violation of these Terms of Service, illegal activity, or for any other reason at our discretion. Upon termination, your right to use the Service will immediately cease."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"8. Disclaimer of Warranties"}),o.jsx("p",{className:"leading-relaxed",children:'THE SERVICE IS PROVIDED "AS IS" WITHOUT WARRANTIES OF ANY KIND. WE DO NOT GUARANTEE THAT THE SERVICE WILL BE UNINTERRUPTED, SECURE, OR ERROR-FREE. AI-GENERATED CONTENT MAY CONTAIN ERRORS OR INACCURACIES.'})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"9. Limitation of Liability"}),o.jsx("p",{className:"leading-relaxed",children:"PanelX SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES RESULTING FROM YOUR USE OF THE SERVICE."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"10. Changes to Terms"}),o.jsx("p",{className:"leading-relaxed",children:"We reserve the right to modify these Terms of Service at any time. We will notify users of significant changes via email or through the Service. Continued use of the Service after changes constitutes acceptance of the modified terms."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"11. Contact"}),o.jsxs("p",{className:"leading-relaxed",children:["For questions about these Terms of Service, please contact us at:",o.jsx("br",{}),o.jsx("a",{href:"mailto:support@panelx.com",className:"text-yellow-400 hover:underline",children:"support@panelx.com"})]})]})]}),o.jsxs("div",{className:"mt-8 text-center space-x-4",children:[o.jsx(Ue,{to:"/privacy",className:"text-yellow-400 hover:text-yellow-300",children:"Privacy Policy"}),o.jsx("span",{className:"text-gray-600",children:""}),o.jsx(Ue,{to:"/",className:"text-yellow-400 hover:text-yellow-300",children:"Back to Home"})]})]})})}function Jw(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#00A676] py-8 px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx(Ue,{to:"/",className:"text-yellow-400 hover:text-yellow-300 text-sm mb-4 inline-block",children:" Back to Home"}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Privacy Policy"}),o.jsx("p",{className:"text-gray-400",children:"Last updated: February 11, 2026"})]}),o.jsxs("div",{className:"bg-gray-800 rounded-xl border-2 border-gray-700 p-8 space-y-6 text-gray-300",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"1. Information We Collect"}),o.jsx("h3",{className:"text-xl font-semibold text-white mt-4 mb-2",children:"Information You Provide"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Account Information:"})," Email address, username, password"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Profile Information:"})," Bio, avatar/profile picture, user preferences"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Content:"})," Comics you create, images you generate, comments, and interactions"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Payment Information:"})," Billing details (processed securely by our payment providers)"]})]}),o.jsx("h3",{className:"text-xl font-semibold text-white mt-4 mb-2",children:"Information Automatically Collected"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Usage Data:"})," Pages visited, features used, time spent on platform"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Device Information:"})," Browser type, operating system, IP address"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Cookies:"})," Session cookies, preference cookies, analytics cookies"]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"2. How We Use Your Information"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"We use the information we collect to:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Provide, maintain, and improve the Service"}),o.jsx("li",{children:"Create and manage your account"}),o.jsx("li",{children:"Generate AI images based on your prompts"}),o.jsx("li",{children:"Process payments and prevent fraud"}),o.jsx("li",{children:"Send important updates about the Service"}),o.jsx("li",{children:"Respond to your support requests"}),o.jsx("li",{children:"Analyze usage patterns to improve user experience"}),o.jsx("li",{children:"Comply with legal obligations"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"3. Information Sharing & Disclosure"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"We do NOT sell your personal information. We may share information with:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Service Providers:"})," AI API providers (Hugging Face), payment processors, hosting services"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect our rights"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"With Your Consent:"})," When you explicitly authorize sharing"]})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"4. Data Storage & Security"}),o.jsxs("p",{className:"leading-relaxed mb-3",children:[o.jsx("strong",{className:"text-white",children:"Where We Store Data:"})," Your data is stored on secure servers. User-generated content is stored both locally and in cloud storage."]}),o.jsxs("p",{className:"leading-relaxed mb-3",children:[o.jsx("strong",{className:"text-white",children:"Security Measures:"})," We implement industry-standard security measures including:"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Encryption of data in transit (HTTPS/SSL)"}),o.jsx("li",{children:"Secure password hashing (Firebase Authentication)"}),o.jsx("li",{children:"Regular security updates and monitoring"}),o.jsx("li",{children:"Access controls and authentication"})]}),o.jsx("p",{className:"leading-relaxed mt-3 text-yellow-200",children:" However, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"5. Your Rights & Choices"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"You have the right to:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Correction:"})," Update or correct your information"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Export:"})," Download your content and data"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing emails"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Data Portability:"})," Request your data in a portable format"]})]}),o.jsxs("p",{className:"leading-relaxed mt-3",children:["To exercise these rights, contact us at ",o.jsx("a",{href:"mailto:privacy@panelx.com",className:"text-yellow-400 hover:underline",children:"privacy@panelx.com"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"6. AI-Generated Content"}),o.jsxs("p",{className:"leading-relaxed mb-3",children:[o.jsx("strong",{className:"text-white",children:"Important Note:"})," When you use our AI image generation features:"]}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Your text prompts are sent to third-party AI providers (e.g., Hugging Face)"}),o.jsx("li",{children:"These providers may use prompts to improve their models"}),o.jsx("li",{children:"Generated images are processed through their systems"}),o.jsx("li",{children:"We do not control how these providers handle data"})]}),o.jsx("p",{className:"leading-relaxed mt-3",children:"By using AI features, you acknowledge these third-party interactions."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"7. Cookies & Tracking"}),o.jsx("p",{className:"leading-relaxed mb-3",children:"We use cookies to:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[o.jsx("li",{children:"Keep you logged in"}),o.jsx("li",{children:"Remember your preferences"}),o.jsx("li",{children:"Analyze how you use the Service"}),o.jsx("li",{children:"Improve performance and user experience"})]}),o.jsx("p",{className:"leading-relaxed mt-3",children:"You can disable cookies in your browser settings, but some features may not work properly."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"8. Children's Privacy"}),o.jsx("p",{className:"leading-relaxed",children:"PanelX is not intended for users under the age of 13. We do not knowingly collect personal information from children. If we become aware that a child has provided us with personal information, we will delete it immediately."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"9. International Users"}),o.jsx("p",{className:"leading-relaxed",children:"If you are accessing PanelX from outside the United States, please be aware that your information may be transferred to, stored, and processed in the United States or other countries where our service providers operate."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"10. Changes to Privacy Policy"}),o.jsx("p",{className:"leading-relaxed",children:"We may update this Privacy Policy from time to time. We will notify you of significant changes by email or through a notice on the Service. Continued use after changes constitutes acceptance of the updated policy."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-3",children:"11. Contact Us"}),o.jsxs("p",{className:"leading-relaxed",children:["For privacy-related questions or concerns, contact us at:",o.jsx("br",{}),o.jsx("a",{href:"mailto:privacy@panelx.com",className:"text-yellow-400 hover:underline",children:"privacy@panelx.com"})]})]})]}),o.jsxs("div",{className:"mt-8 text-center space-x-4",children:[o.jsx(Ue,{to:"/terms",className:"text-yellow-400 hover:text-yellow-300",children:"Terms of Service"}),o.jsx("span",{className:"text-gray-600",children:""}),o.jsx(Ue,{to:"/",className:"text-yellow-400 hover:text-yellow-300",children:"Back to Home"})]})]})})}const qw=[{id:"starter",name:"Starter",credits:50,price:"$4.99",priceCents:499,perCredit:"$0.10/image",badge:null,icon:"",color:"border-gray-600 hover:border-yellow-500",btnColor:"bg-gray-700 hover:bg-yellow-500 hover:text-gray-900",features:["50 AI image generations","Basic panel tools","Draft & publish"]},{id:"creator",name:"Creator",credits:150,price:"$9.99",priceCents:999,perCredit:"$0.07/image",badge:"MOST POPULAR",icon:"",color:"border-yellow-500 shadow-lg shadow-yellow-500/30",btnColor:"bg-yellow-500 hover:bg-yellow-400 text-gray-900",features:["150 AI image generations","All creation tools","Priority queue","Publish & share"]},{id:"pro",name:"Pro",credits:400,price:"$19.99",priceCents:1999,perCredit:"$0.05/image",badge:"BEST VALUE",icon:"",color:"border-green-500 hover:border-green-400",btnColor:"bg-green-600 hover:bg-green-500 text-white",features:["400 AI image generations","Advanced tools","Commercial license","Analytics dashboard"]},{id:"studio",name:"Studio",credits:1e3,price:"$39.99",priceCents:3999,perCredit:"$0.04/image",badge:null,icon:"",color:"border-orange-500 hover:border-orange-400",btnColor:"bg-orange-600 hover:bg-orange-500 text-white",features:["1000 AI image generations","All Pro features","API access (soon)","Team collab (soon)"]}];function Zw(){const{user:e,userProfile:t}=Be(),n=he(),[r,s]=y.useState(0),[i,a]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(null),[p,g]=y.useState("buy"),[b,w]=y.useState(!1);y.useEffect(()=>{e&&(v(),N())},[e]);const v=async()=>{try{const x=await(await fetch(`${q}/api/credits/balance/${e.uid}`)).json();x.success&&s(x.balance)}catch(f){console.error("Error fetching balance:",f)}finally{c(!1)}},N=async()=>{try{const x=await(await fetch(`${q}/api/credits/history/${e.uid}`)).json();x.success&&a(x.transactions)}catch(f){console.error("Error fetching history:",f)}},h=async f=>{m(f.id);try{const S=await(await fetch(`${q}/api/credits/add`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.uid,amount:f.credits,description:`Purchased ${f.name} Pack - ${f.credits} credits`,payment_id:`test_${Date.now()}`})})).json();S.success&&(s(S.new_balance),w(!0),N(),setTimeout(()=>w(!1),4e3))}catch(x){console.error("Purchase error:",x),alert("Purchase failed. Please try again.")}finally{m(null)}},d=f=>f==="purchase"?"":f==="usage"?"":f==="free"?"":f==="refund"?"":"";return o.jsxs("div",{className:"min-h-screen text-white",style:{background:"linear-gradient(135deg, #0B0B0B 0%, #0F2F26 50%, #0B0B0B 100%)",fontFamily:"'Segoe UI', sans-serif"},children:[o.jsxs("div",{className:"border-b border-yellow-500/30 px-6 py-4 flex items-center justify-between",style:{background:"rgba(0,0,0,0.6)",backdropFilter:"blur(12px)"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>n("/creator-dashboard"),className:"text-gray-400 hover:text-yellow-400 transition-colors text-sm flex items-center gap-1",children:" Back"}),o.jsx("span",{className:"text-gray-600",children:"|"}),o.jsx("span",{className:"text-xl font-black tracking-widest text-yellow-400",children:"PANELX"}),o.jsx("span",{className:"text-gray-400 text-sm",children:"/ Credits"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/10 border border-yellow-500/40 rounded-full px-4 py-2",children:[o.jsx("span",{className:"text-yellow-400 text-lg",children:""}),o.jsx("span",{className:"text-white font-bold text-lg",children:l?"...":r}),o.jsx("span",{className:"text-gray-400 text-sm",children:"credits"})]})]}),b&&o.jsxs("div",{className:"fixed top-6 right-6 z-50 bg-green-600 border border-green-400 rounded-xl px-6 py-4 shadow-xl flex items-center gap-3",style:{animation:"slideIn 0.3s ease"},children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold",children:"Credits Added!"}),o.jsx("p",{className:"text-green-200 text-sm",children:"Your balance has been updated"})]})]}),o.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-5xl font-black mb-3 tracking-tight",style:{background:"linear-gradient(90deg, #FFD700, #FFA500, #FFD700)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Power Up Your Comics"}),o.jsx("p",{className:"text-gray-400 text-lg max-w-xl mx-auto",children:"Each credit generates one AI panel image. No subscriptions, no surprises  just credits you control."}),o.jsxs("div",{className:"inline-flex items-center gap-4 mt-6 bg-gray-900/60 border border-yellow-500/30 rounded-2xl px-8 py-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-widest mb-1",children:"Your Balance"}),o.jsx("p",{className:"text-4xl font-black text-yellow-400",children:l?"":r}),o.jsx("p",{className:"text-gray-500 text-xs",children:"credits remaining"})]}),o.jsx("div",{className:"w-px h-12 bg-gray-700"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-widest mb-1",children:"Used This Month"}),o.jsx("p",{className:"text-4xl font-black text-white",children:i.filter(f=>f.type==="usage").length}),o.jsx("p",{className:"text-gray-500 text-xs",children:"images generated"})]})]})]}),o.jsxs("div",{className:"flex gap-2 mb-8 border-b border-gray-800",children:[o.jsx("button",{onClick:()=>g("buy"),className:`px-6 py-3 font-bold text-sm transition-all border-b-2 -mb-px ${p==="buy"?"border-yellow-500 text-yellow-400":"border-transparent text-gray-500 hover:text-white"}`,children:"Buy Credits"}),o.jsxs("button",{onClick:()=>g("history"),className:`px-6 py-3 font-bold text-sm transition-all border-b-2 -mb-px ${p==="history"?"border-yellow-500 text-yellow-400":"border-transparent text-gray-500 hover:text-white"}`,children:["Transaction History",i.length>0&&o.jsx("span",{className:"ml-2 bg-yellow-500 text-gray-900 text-xs font-black rounded-full px-2 py-0.5",children:i.length})]})]}),p==="buy"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-10",children:qw.map(f=>o.jsxs("div",{className:`relative bg-gray-900/80 border-2 rounded-2xl p-6 flex flex-col transition-all duration-300 ${f.color}`,children:[f.badge&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-500 text-gray-900 text-xs font-black px-3 py-1 rounded-full tracking-widest whitespace-nowrap",children:f.badge}),o.jsx("div",{className:"text-4xl mb-2",children:f.icon}),o.jsx("h3",{className:"text-xl font-black text-white mb-1",children:f.name}),o.jsx("p",{className:"text-gray-500 text-xs mb-4",children:f.perCredit}),o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"text-4xl font-black text-white",children:f.price})}),o.jsxs("div",{className:"bg-black/30 rounded-xl p-3 mb-5 text-center",children:[o.jsx("span",{className:"text-yellow-400 font-black text-2xl",children:f.credits}),o.jsx("span",{className:"text-gray-400 text-sm ml-1",children:"credits"})]}),o.jsx("ul",{className:"space-y-2 mb-6 flex-1",children:f.features.map((x,S)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[o.jsx("span",{className:"text-yellow-400 mt-0.5",children:""}),x]},S))}),o.jsx("button",{onClick:()=>h(f),disabled:u===f.id,className:`w-full py-3 rounded-xl font-black text-sm tracking-wide transition-all ${f.btnColor} disabled:opacity-50 disabled:cursor-not-allowed`,children:u===f.id?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Processing..."]}):`Buy ${f.name}`})]},f.id))}),o.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded-2xl p-6",children:[o.jsx("h3",{className:"text-white font-black mb-4 text-lg",children:" What can I do with 1 credit?"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center bg-black/30 rounded-xl p-4",children:[o.jsx("p",{className:"text-3xl mb-2",children:""}),o.jsx("p",{className:"text-white font-bold text-sm",children:"Generate 1 Panel"}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Full AI art"})]}),o.jsxs("div",{className:"text-center bg-black/30 rounded-xl p-4",children:[o.jsx("p",{className:"text-3xl mb-2",children:""}),o.jsx("p",{className:"text-white font-bold text-sm",children:"Create a Scene"}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Characters + BG"})]}),o.jsxs("div",{className:"text-center bg-black/30 rounded-xl p-4",children:[o.jsx("p",{className:"text-3xl mb-2",children:""}),o.jsx("p",{className:"text-white font-bold text-sm",children:"Build a World"}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Environment art"})]}),o.jsxs("div",{className:"text-center bg-black/30 rounded-xl p-4",children:[o.jsx("p",{className:"text-3xl mb-2",children:""}),o.jsx("p",{className:"text-white font-bold text-sm",children:"Action Shot"}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Dynamic poses"})]})]})]})]}),p==="history"&&o.jsx("div",{className:"bg-gray-900/60 border border-gray-800 rounded-2xl overflow-hidden",children:i.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("p",{className:"text-5xl mb-4",children:""}),o.jsx("p",{className:"text-gray-400",children:"No transactions yet"}),o.jsx("button",{onClick:()=>g("buy"),className:"mt-4 text-yellow-400 hover:text-yellow-300 text-sm",children:"Buy your first credits "})]}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-800",children:[o.jsx("th",{className:"text-left px-6 py-4 text-gray-500 text-xs uppercase tracking-widest",children:"Type"}),o.jsx("th",{className:"text-left px-6 py-4 text-gray-500 text-xs uppercase tracking-widest",children:"Description"}),o.jsx("th",{className:"text-right px-6 py-4 text-gray-500 text-xs uppercase tracking-widest",children:"Amount"}),o.jsx("th",{className:"text-right px-6 py-4 text-gray-500 text-xs uppercase tracking-widest",children:"Balance"}),o.jsx("th",{className:"text-right px-6 py-4 text-gray-500 text-xs uppercase tracking-widest",children:"Date"})]})}),o.jsx("tbody",{children:i.map((f,x)=>o.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-xl",children:d(f.type)})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("p",{className:"text-white text-sm",children:f.description}),o.jsx("p",{className:"text-gray-600 text-xs capitalize",children:f.type})]}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("span",{className:`font-black ${f.amount>0?"text-green-400":"text-red-400"}`,children:[f.amount>0?"+":"",f.amount]})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"text-yellow-400 font-bold",children:f.balance_after})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsx("span",{className:"text-gray-500 text-xs",children:new Date(f.created_at).toLocaleDateString()})})]},f.id))})]})}),o.jsxs("p",{className:"text-center text-gray-600 text-xs mt-8",children:["Credits never expire  Secure payments via Stripe "," ",o.jsx(Ue,{to:"/terms",className:"text-yellow-600 hover:text-yellow-400",children:"Terms"})," ",""," ",o.jsx(Ue,{to:"/privacy",className:"text-yellow-600 hover:text-yellow-400",children:"Privacy"})]})]}),o.jsx("style",{children:`
        @keyframes slideIn {
          from { transform: translateX(100px); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
      `})]})}const Je=({children:e})=>{const{user:t,loading:n}=Be();return n?o.jsx("div",{className:"min-h-screen bg-[#0B0B0B] flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-yellow-500 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]})}):t?e:o.jsx(dh,{to:"/login",replace:!0})};function eb(){return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0B0B0B] via-[#0F2F26] to-[#00A676] text-white",children:o.jsxs(E0,{children:[o.jsx(ae,{path:"/",element:o.jsx(Fu,{})}),o.jsx(ae,{path:"/landing",element:o.jsx(Fu,{})}),o.jsx(ae,{path:"/login",element:o.jsx(Ow,{})}),o.jsx(ae,{path:"/signup",element:o.jsx(Dw,{})}),o.jsx(ae,{path:"/terms",element:o.jsx(Qw,{})}),o.jsx(ae,{path:"/privacy",element:o.jsx(Jw,{})}),o.jsx(ae,{path:"/role-selection",element:o.jsx(Je,{children:o.jsx(Lw,{})})}),o.jsx(ae,{path:"/creator-welcome",element:o.jsx(Je,{children:o.jsx(Bw,{})})}),o.jsx(ae,{path:"/creator-dashboard",element:o.jsx(Je,{children:o.jsx($w,{})})}),o.jsx(ae,{path:"/creator-studio",element:o.jsx(Je,{children:o.jsx(Kw,{})})}),o.jsx(ae,{path:"/create-character",element:o.jsx(Je,{children:o.jsx(Yw,{})})}),o.jsx(ae,{path:"/credits",element:o.jsx(Je,{children:o.jsx(Zw,{})})}),o.jsx(ae,{path:"/reader-home",element:o.jsx(Je,{children:o.jsx(Uw,{})})}),o.jsx(ae,{path:"/reader/comic/:comicId",element:o.jsx(Je,{children:o.jsx(Fw,{})})}),o.jsx(ae,{path:"/reader/comic/:comicId/chapter/:chapterId",element:o.jsx(Je,{children:o.jsx(zw,{})})}),o.jsx(ae,{path:"/panel-editor",element:o.jsx(Je,{children:o.jsx(Xw,{})})}),o.jsx(ae,{path:"*",element:o.jsx(dh,{to:"/",replace:!0})})]})})}Ro.createRoot(document.getElementById("root")).render(o.jsx(Qu.StrictMode,{children:o.jsx(O0,{children:o.jsx(Aw,{children:o.jsx(eb,{})})})}));
